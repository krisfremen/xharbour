/*
 * $Id: ChangeLog,v 1.3171 2004/07/19 21:27:20 peterrees Exp $
 */

/* Use this format for the entry headers:
   YYYY-MM-DD HH:MM UTC[-|+]hhmm Your Full Name <your_email@address>
   For example:
   2002-12-01 23:12 UTC+0100 Foo Bar <foo.bar@foobar.org>
*/
2004-07-20 12:10 UTC+1200 Peter Rees <peter(AT)rees.co.nz>
  * /source/rtl/console.c
    - revert previous change to hb_conDevPos()
      ( it broke another Clipper compatible when PRINTing to file via @ x,y SAY )
    - apply correct fix to s_uiPRow & s_uiPCol
      fix casting & hb_conDevPos() parameters -> USHORT not SHORT

2004-07-20 09:30 UTC+1200 Peter Rees <peter(AT)rees.co.nz>
  * /source/rtl/console.c
    - hb_conDevPos() changed to be Clipper compatible when PRINTing to file via @ x,y SAY

2004-07-19 15:54 UTC-0500 Vicente Guerra <vicente@guerra.com.mx>
  * source/rtl/valtype.c
    ! Fixed HB_ISNULL() to prevent loosing of similar-but-not-the-same
      item types (i.e. MEMO as STRING type).

2004-07-20 09:00 UTC+1200 Peter Rees <peter(AT)rees.co.nz>
  * /source/rtl/filesys.c
    - hb_fsRename() changed to respect SET( HB_SET_FILECASE/DIRCASE )
       Effects FRENAME() & RENAME ... TO ...

2004-07-19 12:50 UTC-0300 Luiz Rafael Culik <culikr at brturbo.com
  * utils/hbmake/hbmutils.prg
    ! fixed mispeled lib nf name

2004-07-19 15:50 UTC+1200 Peter Rees <peter(AT)rees.co.nz>
  * /source/rtl/set.c
    - default HB_SET_FILECASE/DIRCASE for all platforms is now HB_SET_CASE_MIXED

2004-07-18 10:54 UTC-0800 Ron Pinkas <ron at xharbour.com>
  * source/pp/ppcore.c
    * Minor correction to recent fix in SearnRep()

2004-07-18 11:30 UTC-0300 Luiz Rafael Culik <culikr at brturbo.com
  * source/rtl/set.c
    include/hbset.h
    ! exported  hb_setGetFirstSetPath( void )
      Added HB_SET_STACK macro to access hb_set structure

2004-07-16 20:00 UTC-0300 Luiz Rafael Culik <culikr at brturbo.com
  * source/vm/runner.c
    ! Fix __hrbgetfu() check parameters from ISNUL(1) to ISPOINTER(1)

2004-07-16 14:30 UTC-3 Marcelo Lombardo <marcelo@xharbour.com.br>
  * source/odbc/odbc.c
    ! Fixed GPF in SqlGetData()
    + Added SQLMoreResults()
    + Added SQLBindOutParam() - This is a big trap, and should be
      used only if you know EXACTLY what you're doing!

2004-07-16 08:45 UTC+0530 Pritpal Bedi <pritpal@vouchcac.com>
  * source/rtl/tbrowse.prg
    !HitTest( oBrowse, nRow, nCol )
    Now properly adjusts the ::mColPos.

2004-07-15 20:00 UTC-0500 Paul Tucker <ptucker@sympatico.ca>
  * source/rtl/checkbox.prg
  * source/rtl/pushbtn.prg
  * source/rtl/radiobtn.prg
  * source/rtl/radiogrp.prg
  * source/rtl/scrollbr.prg
  * source/rtl/tbrowse.prg
    + #include "button.ch"
    * replace constants with proper definitions.
    * formatting.
  * source/rtl/color53.prg
  * source/rtl/tpopup.prg
    * minor formatting.

2004-07-15 14:00 UTC-0800 Ron Pinkas <ron at xharbour.com>
  * source/compiler/genc.c
    * Corrected HB_P*LOCALNEAR* generation to not use (unsigned char) casting as it resulted in compile warnings.

  * source/pp/ppcore.c
    ! Fixed SearnRep() handling of multiple Non Repeatable Marker into Residual Group.
    * Commented reset of bDontInstanciate in SearnRep(), this appears to fix recent bug report
      but requires extensive testing. I tested all xHarbour and FWH sources, please report any new problem.

2004-07-15 22:00 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * bin/hb-func.sh
    ! Fixed mk_hbtools() on BSD.
    + Added a couple of status messages.

2004-07-14 12:22 UTC-0200 Giancarlo Niccolai <antispam /at/ niccolai "dot" ws>
  * doc/hbxml.txt
    * Documentation refined and updated; added Iterator description and integrated
      Harlan Thomas refinements.

  * doc/inet.txt
    * Minor fix.

  * source/rtl/txml.prg
    ! New() method of TXmlIterator class had not the CONSTRUCTOR clause

2004-07-16 06:30 UTC-0300 Luiz Rafael Culik <culikr at brturbo.com
 * source/rtl/ttopbar.prg
    ! fix for better clipper compability(was not restoring menu item correcly on exit)
    Fixed provided by Ivanil Marcelino

2004-07-15 08:45 UTC+0530 Pritpal Bedi <pritpal@vouchcac.com>
  * xharbour/source/rtl/gtwvt/gtwvt.c
  * xharbour/source/rtl/gtwvt/wvtclass.prg
  * xharbour/source/rtl/gtwvt/wvtpaint.prg
    Some synchronizations. Better GUI painting behavior.

  * xharbour/tests/wvtgui.prg
  * xharbour/include/wvtwin.ch
    Syncs to reflect changed behavior.

2004-07-14 18:45 UTC-0500 Paul Tucker <ptucker@sympatico.ca>
  * source/rtl/listbox.prg
    * Method SetData() -> corrected If logic.
    + #include "button.ch"
    + #include "inkey.ch"
    * replace constants with proper definitions.

2004-07-13 23:54 UTC-0800 Ron Pinkas <ron at xharbour.com>
  * include/cstruct.ch
    ! Corrected all #command to #xcommand and all #translate to #xtranslate

2004-07-13 22:15 UTC-0500 Paul Tucker <ptucker@sympatico.ca>
   * source/rtl/listbox.prg
     * formatting, spelling.

2004-07-13 15:50 UTC-0500 Paul Tucker <ptucker@sympatico.ca>
   * source/rtl/mssgline.prg
   * source/rtl/tbcolumn.prg
   * source/rtl/tgetint.prg
   * source/rtl/tmenuitm.prg
   * source/rtl/tpopup.prg
   * source/rtl/ttopbar.prg
     - #include "hbsetup.ch"

2004-07-13 15:35 UTC-0500 Paul Tucker <ptucker@sympatico.ca>
   * source/rtl/pushbtn.prg
   * source/rtl/checkbox.prg
   * source/rtl/radiobtn.prg
   * source/rtl/tget.prg
   * source/rtl/radiogrp.prg
     - #include "hbsetup.ch"

2004-07-13 15:10 UTC-0500 Paul Tucker <ptucker@sympatico.ca>
   * source/rtl/pushbtn.prg
   * source/rtl/radiogrp.prg
   * source/rtl/checkbox.prg
   * source/rtl/listbox.prg
   * source/rtl/scrollbr.prg
   * source/rtl/radiobtn.prg
   * source/rtl/tget.prg
     + #include "color.ch"
     * changed __GuiColor() Calls
     * moved __GuiColor and IsDefColor() from Checkbox.prg to Tget.prg
     * (for granularity issues)

2004-07-13 14:05 UTC-0500 Vicente Guerra <vicente@guerra.com.mx>
  * source/rtl/teditor.prg
    ! Fixed K_RETURN functionality inserting bottom lines.
    * ::lInsert translated from DATA to METHOD for set/get READINSERT().
      Required for programs where direct modify READINSERT().

2004-07-13 13:20 UTC-0500 Paul Tucker <ptucker@sympatico.ca>
  * makefile.nt
    ! undef only ifdef
  * source/rtl/tget.prg
    * BuildGetColor modified so ::Colorspec has better Clipper (5.3!)
    * compatibility under Set Intensity and not.
    * (the only difference to 5.2 is the 2 additional color pairs)

2004-07-12 23:55 UTC-0500 Vicente Guerra <vicente@guerra.com.mx>
   * source/rtl/tbrowse.prg
     ! Assumed ::RowPos := 1 when ::GoBottom() will redraws the screen.
       Fixed previous fix. :(

2004-07-12 22:34 UTC-0500 Vicente Guerra <vicente@guerra.com.mx>
   * source/rtl/tbrowse.prg
     ! Forced ::GoBottom() skips all the screen down.

2004-07-12 16:49 UTC-0800 Luis Krause Mantilla <lkrausem /*at*/ shaw /*dot*/ ca>
   * source/rdd/dbcmd.c
     ! fixed Clipper compatibility bug reported by Serge Jakimoff

2004-07-09 23:49 UTC-0500 Vicente Guerra <vicente@guerra.com.mx>
  * source/rtl/transfrm.c
    ! Fixed a few toupper() to TOUPPER() (for CODEPAGE support).

2004-07-09 20:38 UTC-0500 Vicente Guerra <vicente@guerra.com.mx>
  * source/rtl/box.c
    ! Fixed @...BOX "" to clear all box area (instead only frame).
  * source/rtl/oldbox.c
    ! Fixed __BOX("") to clear all box area (instead only frame).
    ! __BOX() will draw only if the parameter is character.
      (Clipper compatibility)

2004-07-09 23:55 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/debug/debugger.prg
  * source/debug/dbgtwin.prg
  * source/debug/tbrwtext.prg
    ! Fixed cursor positioning after certain operations.

2004-07-09 15:50 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/debug/debugger.prg
    + Added some missing commands.
    ! Display correct file after changing source file path.
    ! Restore LastKey() and Inkey() before- and afterblocks when evaluating
      expressions.
    * Convenient command history processing.
    * Some code formatting.
  * source/rtl/mouseapi.c
    ! Fixed a typo in a trace message.

2004-07-06 21:39 UTC-0800 Ron Pinkas <ron at xharbour.com>
  * source/compiler/cmdcheck.c
    + Added missing support for /j[HIL file] to match existing -j[HIL file]

2004-07-06 18:34 UTC-0800 Luis Krause Mantilla <lkrausem /*at*/ shaw /*dot*/ ca>
   * doc/en/zipnew.txt
     ! fixed spelling and incorrect specifications in all zip functions

2004-07-06 08:55 UTC+1200 Peter Rees <peter(AT)rees.co.nz>
  * contrib/winprn/tprint.prg
    - fix HB_FUNC_STATIC( DRAWBITMAP ) so StretchDIBits() uses correct co-ords passed

2004-07-02 20:33 UTC-0800 Ron Pinkas <ron at xharbour.com>
  * include/hbpcode.h
  * source/compiler/hbpcode.c
  * source/compiler/genc.c
  * source/compiler/hbfix.c
  * source/vm/hvm.c
    + Added new HB_P_PUSHWITH

  * include/hbexprb.c
  * source/compiler/exproptb.c
    ! Fixed optimization of HB_SetWith() in HB_EA_PUSH_PCODE to push the preset WITH Object using new HB_P_PUSHWITH

  * source/vm/hvm.c
    - Removed no longer needed HB_FUNC( HB_QWITH )

  * source/vm/classes.c
    ! Fixed Error handling in __CLSINSTSUPER() to pass the Class Name argument

  * tests/with.prg
    + Added sample to demonstrate usage of HB_SetWith() and HB_QWith() (also from macros).

  * source/rtl/hbrandom.c
    + Added missing HB_EXPORT to hb_random_num()

  * utils/xbscript/rp_run.src
    * Corrected rule of AddMethod() translation to save/restore preset SELF Object.

  * utils/xbscript/xbs_harb.ch
  * utils/xbscript/xbscript.prg
    ! Rewrote support for "private" STATIC variables which was badly broken.
    ! Fixed bad typo in PP_LocalParams()
    * Guarded dynamic procedures related code with an #ifdef DYN
    * More __MVPut() and __MVGet() instead of macros guarded with #ifdef __HARBOUR__

  * source/rtl/terror.prg
    * Added commented TraceLog()

2004-07-02 09:15 UTC-0500 Paul Tucker <ptucker@sympatico.ca>
  * makefile.vc
    * additional makefile errors
  * bin/bld.bat
    + comdlg32.lib for msvc

2004-07-02 09:00 UTC-0500 Paul Tucker <ptucker@sympatico.ca>
  * makefile.vc
    * corrected gtwvt rules

2004-07-02 01:30 UTC-0300 Luiz Rafael Culik <culikr at brturbo.com
  + contrib/pdflib/pdflib.h
  + contrib/pdflib/pdfhbdoc.c
     ! imported from harbour contrib dir with hb_items optimization,      code formating (require by hbdoc to generate .pdf docs)

2004-07-01 20:12 UTC-0500 Vicente Guerra <vicente@guerra.com.mx>
  * ./ERRATA
    * Updated references from Harbour to xHarbour, and removed the
      "solved" issue.
  - ./ERRATA
    - Since this file has never been used, this file is removed for
      avoid a bad image with "things which the developers don't attend".

2004-07-01 16:25 UTC-0800 Ron Pinkas <ron at xharbour.com>
  * source/vm/classes.c
    % Optimized __CLSINSTSUPER() to use hb_vmDo() instead of unjustified hb_vmFunction()
      which is not only slower but also pushes the return value to the Stack never to be used!

  * utils/xbscript/xbscript.prg
    * Removed residual TraceLog()

2004-07-01 11:39 UTC-0800 Tony Bretado <jabrecer@yahoo.com>
  * contrib/libct/ctwin.prg
    * CTW_RestScreen(): Now returns Nil like in Clipper Documentation for restscreen()
	// Sorry Ron, It's was my fault! I Remove the variable cRet

2004-07-01 10:45 UTC-0500 Paul Tucker <ptucker@sympatico.ca>
  * makefile.nt
    * corrected gtwvt rules
  * source/rtl/at.c
    + #include <ctype.h>

2004-07-01 19:00 UTC+0530 Pritpal Bedi <pritpal@vouchcac.com>
  + xharbour/source/rtl/gtwvt/wvtclass.prg
  + xharbour/source/rtl/gtwvt/wvtpaint.prg
    + Wvt*Classes framework and GUI objects paint protocol.

  * xharbour/source/rtl/gtwvt/wvtcore.c
  * xharbour/source/rtl/gtwvt/wvtutils.c
    + Addition of few more GUI primitives. Function's logical placement.

  * xharbour/tests/wvtgui.prg
  + xharbour/tests/v_calend.bmp
  + xharbour/tests/v_clclt.bmp
  + xharbour/tests/v_index.bmp
  + xharbour/tests/v_lock.bmp
  + xharbour/tests/v_new.bmp
  + xharbour/tests/v_notes1.bmp
  + xharbour/tests/v_selct1.bmp
  + xharbour/tests/dia_excl.ico
    ! Demonstration of Wvt*Classes accompanying required files.

  * xharbour/makefile.bc
  * xharbour/makefile.vc
  * xharbour/makefile.nt
  * xharbour/makefile.wc
    ! Updated to include new files.
      Though I have done it for all compilers, but I am sure about makefile.bc.
      Please correct them if I am wrong somewhere.

  /*
      Wvt*Classes are merged with GTWVT subsytem. User can opt for pure console,
      hibrid console or pure GUI dialogs. He/she can mix all approaches in a
      single application.

      I have laid down the framework. Hope everybody will help decide its flow,
      class framework, layout, etc.

      The prime point of concern is ReadModal() which I could not do properly. Hope
      someone from you more adept to PP will cure it.
  */

2004-06-30 21:07 UTC-0800 Ron Pinkas <ron at xharbour.com>
  * source/pp/ppcore.c
    * Renamed hb_strAtSkipStrings() to AtSkipStringsInRules() and made static.

  * source/rtl/at.c
    + Added low level ULONG HB_EXPORT hb_AtSkipStrings( const char * szSub, ULONG ulSubLen, const char * szText, ULONG ulLen )
    + Added prg wrapper AtSkipStrings( cFind, cHere, nStart ) -> nPosFromStart

  * utils/xbscript/xbscript.prg
    * Renamed nAtSkipStrings() to AtInRules()
    + Added AtSkipStrings() guarded by #ifndef __XHARBOUR__
    * Revised all calls of nAtSkipStrings() to AtInRules() within CompileRule() function.
    * Revised all calls of nAtSkipStrings() to AtSkipStrings() elsewhere.
    ! Fixed CompileRule to allow Literal Strings as tokens.

2004-06-30 19:51 UTC-0300 Marcos Antonio Gambeta <marcosgambeta@uol.com.br>
  * source/rdd/dbcmd.c
    ! Fixed: COPY TO and APPEND FROM don't retain deleted status. The function
      rddMoveRecords was changed to delete new record if the original record
      is deleted.

2004-06-30 15:00 UTC-0800 Ron Pinkas <ron at xharbour.com>
  * contrib/libct/ctwin.prg
    ! Fixed 2 compilation errors.

  /* Tony I'm not familiar with CT so please confirm my correction to ctw_RESTSCREEN() */

2004-06-30 14:36 UTC-0800 Ron Pinkas <ron at xharbour.com>
  * source/pp/ppcore.c
    ! Fixed bug in expnasion of non repeatable Marker into residual group when found multiple times.

2004-06-30 11:39 UTC-0800 Tony Bretado <jabrecer@yahoo.com>
  * contrib/libct/ctwin.prg
    * wOpen()
	+ now handle shadows
    + ctw_memoedit()
    + CTW_SaveScreen()
    + CTW_RestScreen()
    * ctw_MAXCOL(lMode)
	+ added parameter lMode for CA-TOOLS compatibility
    * ctw_MAXROW(lMode)
	+ added parameter lMode for CA-TOOLS compatibility
    * METHOD MaxRow( lMode)
    * METHOD MaxCol( lMode)
    * METHOD Restore()
	+ now handle shadows
    + METHOD SaveScreen()
    + METHOD RestScreen()
    + METHOD MemoEdit()
    + METHOD WinShadow()     // shadow system
    + METHOD ColorShadow()   // shadow system
  * contrib/libct/include/ctwin.ch
    * MAXCOL(
	- remove second parenthesis for CA-TOOLS compatibility
    * MAXROW(
	- remove second parenthesis for CA-TOOLS compatibility
    + MEMOEDIT(
    + RESTSCREEN(
    + SAVESCREEN(

2004-06-30 09:52 UTC-0500 Vicente Guerra <vicente@guerra.com.mx>
  + ./ChangeLog.020
  - ./Changelog.020
    ! Fixed typo in filename.

2004-06-30 14:00 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * contrib/libct/video.c
    ! Fixed SETFONT() and VGAPALETTE().
  * include/hbdefs.h
    ! Fixed HB_XREGS under DJGPP.
  * source/debug/debugger.prg
    * Improved command window history a bit.
  * source/rtl/gtdos/mousedos.c
    ! Fixed hb_mouse_SetPos() and hb_mouse_CountButton().

2004-06-29 23:55 UTC-0500 Paul Tucker <ptucker@sympatico.ca>
  * source/rtl/alert.prg
    * correction to my correction.

2004-06-29 23:25 UTC-0500 Paul Tucker <ptucker@sympatico.ca>
  * source/rtl/alert.prg
    * corrected mouse selection behaviour so alert exits only when an item is selected

2004-06-29 20:27 UTC-0500 Vicente Guerra <vicente@guerra.com.mx>
  * source/rtl/tbrowse.prg
    ! Fixed for reposition cursor in the row clicked with the mouse,
      instead of single-step movement.
    ! Fixed recognizion for mouse-click in header.
    - Removed "::GotoXY()" from credits... this method doesn't exist.

2004-06-29 15:13 UTC-0800 Ron Pinkas <ron at xharbour.com>
  * source/compiler/genc.c
    ! Fixed GPG trap in verbose mode of hb_p_localnearaddint
    * Corrected verbose mode for hb_p_localnearaddint, hb_p_localnearasetint and hb_p_localnearsetstr
    * Replaced short wVar with int iVar as per performance suggestion by Przemek
    * Some formating and cleanup.

  * source/rtl/readline.c
    % Optimized to use hb_storclenAdopt()

  * include/hbexprb.c
  * include/hbexprc.c
  * source/compiler/exproptb.c
  * source/compiler/exproptc.c
    * Expanded range for LOCALNEARSETINT LOCALNEARSETSTR and LOCALNEARADDINT to 0-255 because optimization never applies to detached locals.
  * source/vm/hvm.c
    * Changed casting of LOCAL # in LOCALNEARSETINT LOCALNEARSETSTR and LOCALNEARADDINT to (unsigned char)

  * source/rtl/errorsys.prg
    * Corrected spelling typo

2004-06-28 22:27 UTC-0500 Vicente Guerra <vicente@guerra.com.mx>
  * include/hbapigt.h
    ! Fixed double-line definition when it's in a single line instead a box.

2004-06-28 14:00 UTC-0500 Paul Tucker <ptucker@sympatico.ca>
  * source/rtl/gtapi.c
    ! corrected unselected init color.
  * contrib/xwt/src/xwt_win/xwt_win.c
    * Cast on DestroyMenu
  * contrib/xwt/src/xwt_win/xwt_win.h
    * Changed Struct decl to compile in C++ mode.
  * created Changelog.020 and started new Changelog

2004-06-28 16:20 UTC-0300 Giancarlo Niccolai <antispam /at/ niccolai "dot" ws>
  * contrib/tip/tipclient.prg
    ! Removed a leftover InetRecvAll()

2004-06-28 16:11 UTC-0300 Giancarlo Niccolai <antispam /at/ niccolai "dot" ws>
  * contrib/tip/tipclient.prg
  * contrib/tip/tipclienthttp.prg
    ! Fixed HTTP/1.1 support (was working but sometimes imprecise)
    ! Fixed Read() and ReadToFile() method; Using InetRecv() instead of
      InetRecvAll().

  * contrib/tip/tests/httpadvtest.prg
    ! Fixed a leftover of an old variable.

  * source/rtl/gx.c
  * include/gtinfo.ch
    + Added experimental support to change font in graphical GTs with the
      GT_FONTNAME GtInfo option.

  * source/rtl/gtxvt/gtxvt.c
  * source/rtl/gtxvt/gtxvt.h
    + Added GTInfo support for GT_FONTNAME option; plz. other interested
      developers have a look and add similar support.

  * tests/Makefile
    ! More compliancy with lastests building models.

