/*
 * $Id: ChangeLog,v 1.5947 2008/03/09 18:13:44 ronpinkas Exp $
 */

/* Use this format for the entry headers:
   YYYY-MM-DD HH:MM UTC[-|+]hhmm Your Full Name <your_email@address>
   For example:
   2002-12-01 23:12 UTC+0100 Foo Bar <foo.bar@foobar.org>
*/

2008-03-09 21:45 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/compiler/Makefile
    - Removed non-functional genobj32.c.
  * config/global.cf
  * config/header.cf
  * config/lib.cf
  * config/bsd/gcc.cf
  * config/bsd/global.cf
  * config/darwin/gcc.cf
  * config/darwin/global.cf
  * config/dos/bcc16.cf
  * config/dos/djgpp.cf
  * config/dos/global.cf
  * config/dos/rsx32.cf
  * config/dos/watcom.cf
  * config/hpux/gcc.cf
  * config/hpux/global.cf
  * config/linux/gcc.cf
  * config/linux/global.cf
  * config/linux/owatcom.cf
  * config/os2/gcc.cf
  * config/os2/global.cf
  * config/os2/icc.cf
  * config/sunos/gcc.cf
  * config/sunos/global.cf
  * config/w32/bcc32.cf
  * config/w32/dm.cf
  * config/w32/gcc.cf
  * config/w32/global.cf
  * config/w32/mingw32.cf
  * config/w32/msvc.cf
  * config/w32/pellesc.cf
  * config/w32/rsxnt.cf
  * config/w32/watcom.cf
  * config/w32/xcc.cf
    * GNU make system cleanup (changed $(ARCH) to $(HB_ARCH) or $(ARCH_DIR)
      according to actual usage).

2008-03-09 13:40 UTC-0430 Ron Pinkas <ron/at/xharbour.com>
  * makefile.bc
  * makefile.vc
    - Removed non functional genobj32

  * include/hbcomp.h
  * include/hbexprb.c
  * include/hbvmpub.h
  * source/compiler/genc.c
  * source/compiler/genhrb.c
  * source/compiler/genobj32.c
  * source/compiler/harbour.c
  * source/compiler/harbour.sly
  * source/compiler/hbstrong.c
  * source/vm/hvm.c
  * source/vm/runner.c
    - Removed redndant HB_FS_MEMVAR and HB_FS_MESSAGE
    * Claned symbol table generation to avoid redundancies, conflicting attributed, and other hacks

2008-03-09 20:55 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * include/hbapifs.h
    ! Disable HB_USE_BSDLOCKS for HB_OS_BSD, because FreeBSD 6.2 and Mac OS X
      deadlock when using this feature.

2008-03-08 00:22 UTC-0430 Ron Pinkas <ron/at/xharbour.com>
  * include/hbapi.h
  * source/vm/dynsym.c
  * source/vm/macro.c
    * Silly but critical oversight in last commit

  * include/hbsetup.h
    + Added __STR() and __STR__() macros

  * source/vm/garbage.c
    ! Fixed GPF trap when collecting after memvars been released but scaned item is a BYREF to a MEMVAR

  * source/vm/hvm.c
    * Improved error message on PCODE version mismatch

2008-03-07 20:03 UTC-0430 Ron Pinkas <ron/at/xharbour.com>
  * source/vm/dynsym.c
    + 2 asserts()
    - Branch that should never take place or is superceded by hb_vmRegisterSymbols()
  * source/vm/hvm.c
    + Added small logic to force single function definition in prg code, when linker allowed multiple definitions
    + Added alternate branch controlled by HB_STARTUP_REVERSED_LINK_ORDER to assume last registered module is
      the correct module of function definition when multiple modules claims some function defnition as HB_FS_LOCAL.
      If HB_STARTUP_REVERSED_LINK_ORDER is *not* defined then first registered module is assumed to be the first
      linked module, and thus the correct module. (This appear to be with BCC, MSVC, and xCC). Please enable TraceLog()
      on line 9759 to check if registration order is same or reveresed, or otherwise - so we can add the #define if needed
      or other hacks as needed for some linker[s].

2008-03-07 23:25 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * include/hbapi.h
  * source/vm/arrays.c
    + added set of hb_arraySet*() functions - I hope they will help 3-rd
      party developers to eliminate using C stack level HB_ITEM and
      reduce usage of potentially danger function like hb_arrayGetItemPtr()
    (by Przemyslaw Czerpak, borrowed from Harbour)
  * source/ct/charlist.c
  * source/rdd/dbf1.c
  * source/rdd/workarea.c
  * source/rtl/direct.c
  * source/rtl/fparse.c
  * source/rtl/hbserv.c
  * source/rtl/hbtoken.c
  * source/rtl/regex.c
  * source/rtl/win32prn.prg
  * source/rtl/winos.prg
  * source/vm/classes.c
  * source/vm/hbi18n.c
  * source/vm/hvm.c
  * source/vm/memvars.c
    % Use hb_arraySet*(...) instead of hb_itemPut*( hb_arrayGetItemPtr(...), ...).

2008-03-07 01:30 UTC-0200 Walter Negro <anegro/at/overnet.com.ar>
  * include/classes.h
  * include/hbclass.ch
  * include/hboo.ch
  * source/rtl/tclass.prg
  * source/vm/classes.c
  * source/vm/runner.prg
    + Support for unload and reload HRB files that declare class.
      Now when call to class or method with HRB unloaded receive runtime error not GPF.
      When reload the same or other HRB that declare the same class the symbols and
      methods are re-linked.
    * Support for inherit tclass from another class.
    * Support for pointer to C function in hb_clsAddMsg() function using
      HB_OO_CLSTP_PFUNC as scope.

2008-03-05 14:28 UTC-0430 Ron Pinkas <ron/at/xharbour.com>
  + doc\namespace.txt
    * Initial docs for namespace featres

2008-03-05 12:27 UTC-0430 Ron Pinkas <ron/at/xharbour.com>
  * source/compiler/genc.c
  * source/compiler/harbour.c
    + Support for INIT|EXIT procedures in namespace

2008-03-05 09:44 UTC-0430 Ron Pinkas <ron/at/xharbour.com>
  * include/hbcomp.h
  * source/compiler/genc.c
  * source/compiler/harbour.c
  * source/compiler/harbour.sly
    * Minor refinments of Namespace support

2008-03-04 20:10 UTC-0430 Ron Pinkas <ron/at/xharbour.com>
  * source/compiler/genc.c
  * source/compiler/genhrb.c
    * Minor typo

2008-03-04 21:05 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/rtl/tget.prg
    ! fixed VarGet() method to assign proper mask when numeric get have chars
      others than numbers. Bug reported from comp.lang.xharbour news.

2008-03-04 15:50 UTC-0430 Ron Pinkas <ron/at/xharbour.com>
  * source/rtl/tbrowse.prg
    * Draft proposal for Clipper namespaces

2008-03-04 13:04 UTC-0430 Ron Pinkas <ron/at/xharbour.com>
  * utils/xbscript/xbs_harb.ch
    - Removed unused structure memeber

  * include/hbapi.h
  * include/hbinit.h
  * include/hbsetup.h
  * include/hbvmpub.h
  * source/compiler/genc.c
  * source/compiler/genhrb.c
  * source/compiler/harbour.c
  * source/vm/dynsym.c
  * source/vm/hvm.c
  * source/vm/macro.c
  * source/vm/runner.c
    + Added support for R/T resolution of compilation unit USING NAMESPACE ... in Macros.

  * tests/readhrb.prg
    * Updated for new format

  * utils/hbrun/hbrun.prg
    * FUNCTION Main() -> STATIC PROCEDURE Main
      /* Does STATIC Main causes any problems in *nix? */

  + tests/macronamespace.prg
  + tests/macronamespace2.prg
    + New samples to demo R/T resolution of Namespaces in Macros.


2008-03-03 21:50 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/rtl/tbrowse.prg
    ! minor fix on InitCache() method to initialize ::nMaxRow properly.

2008-03-03 08:30 UTC+1200 Peter Rees <peter(AT)rees.co.nz>
  * source/rtl/teditor.prg
    ! fixed RTL in HBEditor():DelTextSelection() when last line of text
      deleted by {Shift + DownArrow}

2008-02-27 10:00 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/rtl/tget.prg
  * source/rtl/tgetlist.prg
    ! fixed buffer content after DEL operation under @L picture.

  * source/rtl/tbrowse.prg
    ! fixed dbSkip() method to return 0 when SkipBlock is null.

2008-02-25 13:00 UTC-0300 Antonio Carlos Pantaglione <toninho@fwi.com.br>
   * contrib/rdd_ads/adsmgmnt.c
     + ADSMGGetOpenTables()
     + ADSMGGetOpenIndexes()

2008-02-22 19:45 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/compiler/genhrb.c
    ! Fixed debug info generated for .hrb modules to allow setting breakpoints
      and running to cursor.

2008-02-22 12:40 UTC+0700 Andi Jahja <harbour/AT/cbn/net/id>
   * source/compiler/genc.c
     ! remove use of hb_stripOutComments() in hb_compGenCInLineSymbol() because
       it is broken on certain cases, causing incorrect function declaration
       in generated C code which avoid certain C compilers from compiling.

2008-02-21 12:36 UTC-0430 Ron Pinkas <ron/at/xharbour.com>
  * source\compiler\genc.c
    * NSTYPE_OPTIONAL supercedes NSTYPE_EXTERNAL

2008-02-21 12:10 UTC-0430 Ron Pinkas <ron/at/xharbour.com>
  * include\hbclass.ch
    + Added support for CLASS ... IMPLEMENTS NAMESPACE <NamepaceName>

  * include\hbcomp.h
  * source\compiler\genc.c
  * source\compiler\harbour.c
  * source\compiler\harbour.sly
    + Added support for ... IMPLEMENTS NAMESPACE <NamespaceName> in the same compilation unit of the Namespace definition

2008-02-18 19:55 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * ChangeLog
    ! Fixed corrupt ChangeLog formatting hint.
  * source/compiler/harbour.sly
  * source/macro/macro.y
    ! Fixed some possible GPF traps.

2008-02-18 19:45 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * include/hbdefs.h
    ! Restored HARBOUR_START_PROCEDURE under MinGW - even if some versions
      don't need it, other versions do.

2008-02-18 11:50 UTC-0430 Ron Pinkas <ron/at/xharbour.com>
  * source/compiler/genc.c
  * source/compiler/harbour.c
  * source/compiler/harbour.sly
    * Minor refinments and corrections.
    + Added support for Namespace Function as application startup function

2008-02-18 03:35 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * source/compiler/harbour.c
    ! Restored symbol registration for __DBGENTRY.

2008-02-16 20:15 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/rtl/tget.prg
    + create the new "@2" and "@4" pictures to force get date with 2 or 4
      digits on year format, independent of set century. Contribution
      by Brian Hays.

2008-02-16 14:00 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/rtl/tbrowse.prg
    ! fixed SetStyle() method. Reported by Eduardo Horbino.
    + created Style access to return ::aStyle data.

  * source/rtl/tget.prg
  * source/rtl/tgetlist.prg
    + created the new "@L" picture to scroll number from right to left
      direction as calculator. This picture will acts only over numeric vars.
      NumToLeft() code used in get class is a contrib by Julio Cesar Molina.

      Note about navigation and editing keys under "@L" picture:
      Right, Left, Ctrl-Right, Ctrl-Left, Home, End, Ctrl-Home, Ctrl-End and
      Ctrl-BackSpc are without effect.
      Del,BackSpc  Delete character at cursor position, but clear all
                   text if the first key is Del.

2008-02-16 10:30 UTC-0430 Ron Pinkas <ron/at/xharbour.com>
  * source/compiler/harbour.sly
    * Added missing handling of ParamList in ExtBlockParams (omission from my last commit)

  * source/pp/ppcore.c
    + Added auto #define __NAMESPACE__ as per Vic's suggestion

2008-02-14 15:05 UTC-0430 Ron Pinkas <ron/at/xharbour.com>
  * include/hbdefs.h
    * Minor formatting
  * include/hbcomp.h
  * source/compiler/genc.c
  * source/compiler/genhrb.c
  * source/compiler/harbour.c
  * source/compiler/harbour.slx
  * source/compiler/harbour.sly
  * source/compiler/hbslex.c
    + Added support for new syntax:

      EXTERNAL NAMESPACE MEMBER <SomeFunc>

      [STATIC] PROCEDURE|FUNCTION <SomeName> IMPLEMENTS NAMEDSPACE <NamsespaceName>

    + Added support for Namespace functions implemented as C code:

         HB_FUNC_EXTERNAL_NAMESPACE( NSID_<NamespaceName>, <SomeFunc> )

  * tests/extnamespace.prg
  * tests/namespace.prg
    * Updated to show new syntax and functionality

2008-02-12 09:40 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * source/rtl/tget.prg
    ! fixed to reset display content after lose focus when "@S" is used.
      Bug reported from xharbour.comp.lang news.

2008-02-12  22:00 UTC-0300 Luiz Rafael Culik( luiz at xharbour.com.br)
  * include/std.ch
    ! added missing SET EOL command

2008-02-11 16:11 UTC-0430 Ron Pinkas <ron/at/xharbour.com>
  * source/compiler/genc.c
  * source/compiler/harbour.c
    * Memory leak

2008-02-10 09:45 UTC-0430 Ron Pinkas <ron/at/xharbour.com>
  * source/compiler/harbour.slx
  * source/macro/macro.slx
    * Reverted my last "fix" and applied the correct fix.
      (Not sure when or how, but .T. .F. .N. and .Y. where moved from SELF_CONTAINED to WORDS)

2008-02-10 11:30 UTC-0200 Walter Negro <anegro/at/overnet.com.ar>
  * source/vm/hvm.c
    * Delete some unused vars. Reported by Enrico Giordano

2008-02-10 09:00 UTC-0430 Ron Pinkas <ron/at/xharbour.com>
  * source/compiler/harbour.slx
  * source/macro/macro.slx
    * Added missing .T. .F. .Y. .N. .AND. .OR. .NOT. .NULL. to IF_ACCEPT_AS_DELIMITER( '.' ) exceptions

2008-02-10 14:38 UTC-0430 Ron Pinkas <ron/at/xharbour.com>
  * source/compiler/genc.c
    ! Fixed silly typo which caused unexpected results in comment generation
      which in some C compilers this could cause remainder of file to be ignored.

   /*
     Sorry, but CLEAN BUILD, and RECOMPILE of all PRG code is highly encouraged.
    */

2008-02-10  11:15 UTC-0300 Luiz Rafael Culik( luiz at xharbour.com.br)
  * source/ct/files.c
    ! fixed to return correct filesize on *nix when file >=4Gb

2008-02-10 03:00 UTC-0430 Ron Pinkas <ron/at/xharbour.com>
  * include/hbcomp.h
  * include/hbdefs.h
  * include/hbvmpub.h
  * source/compiler/genc.c
  * source/compiler/genhrb.c
  * source/compiler/harbour.c
  * source/compiler/harbour.sly
  * source/vm/hvm.c
  * source/vm/runner.c
    + Added support for Namespace Publishing & Consuming to HRB compiled modules.

  * source/compiler/harbour.c
    + Adde auto define __HRB__ when -gh is used

  * tests/readhrb.prg
    * Updated for latest hrb format

  * tests/namespace.prg
  * tests/dynamic.prg
  * tests/tstnamespace.prg
    * Updated to show dynamic namespace usage into/outof HRB compiled modules

   /*
      NOTES:
             1. CLEAN BUILD is a MUST!
             2. RECOMPILE of ALL .HRB files is a MUST!
    */

2008-02-10 04:00 UTC-0200 Walter Negro <anegro/at/overnet.com.ar>
  * Reinit Changelog
  + Changelog.027
  * include/classex.ch
    ! Fix incorrect translate because #[x]translate sentence precedence, now
      scope1.prg and scope2.prg compile correctly (see .ppo)
  * include/hbvmpub.h
  * source/vm/arrays.c
  * source/vm/classes.c
  * source/vm/hvm.c
    * Speed improvement and GPF trap using MT in calls to Super methods.
      Now two threads can call Super methods using the same object without problem.
