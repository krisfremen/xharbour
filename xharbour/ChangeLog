/*
 * $Id: ChangeLog,v 1.1967 2003/12/30 19:13:23 ronpinkas Exp $
 */

/* Use this format for the entry headers:
   YYYY-MM-DD HH:MM UTC[-|+]hhmm Your Full Name <your_email@address>
   For example:
   2002-12-01 23:12 UTC+0100 Foo Bar <foo.bar@foobar.org>
*/

2003-12-31 09:37 UTC+1200 Peter Rees <peter(AT)rees.co.nz>
  * source/rtl/gtwvt/gtwvt.c
   + removed redundant static BOOL lMouseDown, rMouseDown
   + Made default to not activate System Menu when Alt key pressed on it's own

2003-12-30  11:12 UTC-0800 Ron Pinkas <ron@ronpinkas.com>
  * source/compiler/harbour.slx
    * Added HB_TEXT to IF_BELONG_LEFT (fixed Text[...] support).

2003-12-30 10:30 UTC-0300 Luiz Rafael Culik Guimaraes <culikr@brturbo.com>
  + lib/bcc640mt.lib
    + Added mt version of bcc640.lib
  ! bin/bld.bat
    ! on MT compilation with bcc32 compiler use bcc640mt.lib
  ! utils/hbmake/hbmake.prg
    ! if use MT libs options is selected, use bcc640mt.lib

2003-12-30 12:45 UTC+0100 Lorenzo Fiorini <lorenzo_fiorini/at/tin.it>
  * bin/bld.bat
    * changed -gc0 to -gc to help the debug of the pcode
  * source/compiler/genc.c
  * source/compiler/harbour.c
    * strip relative path from the debug informations
  * source/debug/debugger.prg
    * fix callstack management
    * add lookup to HB_DBG_PATH before PATH to look for prg sources

2003-12-30 11:20 UTC+0100 Francesco Saverio Giudice <info@fsgiudice.com>
  * source/rtl/gtxvt/gtxvt.c
    * Fixed a problem with gcc < ver. 3

2003-12-30 00:38 UTC+0100 Giancarlo Niccolai <antispam /at/ niccolai [dot] ws>
  * include/hbapigt.h
  * config/linux/global.cf
  + source/rtl/gtxvt/Makefile
  + source/rtl/gtxvt/gtxvt.c
    + Added GTXVT: Xwindows virtual terminal for unices

  * source/vm/thread.c
    ! Fixed threadsleep() to be interrupt compliant and hb_treadKillAll()
      that may have caused deadlocks.

  * tests/Makefile
    - Remove compilation of gtQTc samples
    + Added compilation of gtxvt; just set HB_GT_LIB=gtxvt and you'll have
      your tests compiled with "make test" in x virtual terminal.

  * tests/mousetst.prg
    ! Added support for mouse with more than 3 buttons.
  * tests/service.prg
    ! Using the console to write timer data.

  * source/rtl/hblog.prg

2003-12-29  14:29 UTC-0800 Ron Pinkas <ron@ronpinkas.com>
  * source/pp/ppcore.c
    ! Fixed wrong conversion of [...] to "..." when strotrim was called from CommandStuff()
      by adding logic to reset s_bArray based on the value of the KEY of the rule.

2003-12-29 22:56 UTC+0100 Przemyslaw Czerpak <druzus@polbox.com>
  * xharbour/config/dos/watcom.cf
    - removed -ol optimization

  * xharbour/config/w32/watcom.cf
    + added proper include directory

  * xharbour/source/rtl/gtdos/gtdos.c
    * time sync before tone for Clipper compatibility

2003-12-29  11:16 UTC-0800 Ron Pinkas <ron@ronpinkas.com>
  * include/hbapi.h
  * source/rtl/seconds.c
    * Added HB_EXPORT to hb_secondsCPU()

  * source/rtl/gtwin/gtwin.c
    * MSVC compilation

2003-12-29 16:30 UTC-0300 Luiz Rafael Culik Guimaraes <culikr@brturbo.com>
  * utils/hbdoc/genng.prg
    utils/hbdoc/genrtf.prg
     ! REPL() calls changes to replicate()

2003-12-29 11:00 UTC-0300 Luiz Rafael Culik Guimaraes <culikr@brturbo.com>
  * source/rtl/hbffind.c
   ! added error 25 to winToDosError

2003-12-29 10:40 UTC-0300 Luiz Rafael Culik Guimaraes <culikr@brturbo.com>
  * xharbour/source/rtl/filesys.c
   ! Fix to hb_fsWrite and hb_fsWriteLarge on Win32 api section, when number of bytes to write is 0

2003-12-29 11:41 UTC+0100 Przemyslaw Czerpak <druzus@polbox.com>
  * xharbour/contrib/libct/strfile.prg
   * fixed strfile() - we still haven't SETSHARE()/GETSHARE()/SETFCREATE()
     when they will be implemented this function has to be updated

  * xharbour/source/rtl/filesys.c
   * added errorcodes conversion for OpenWatcom.
     full conversion table for all compilers is on my TODO list
     but with low priority

  * xharbour/source/rtl/gtpca/gtpca.c
   ! small fix for OpenWatcom

2003-12-29 14:26 UTC+1200 Peter Rees <peter(AT)rees.co.nz>
  * source/rtl/gtwvt/gtwvt.c
   + added K_LDBLCLK & K_RDBLCLK support
   + Turn off K_MOUSEMOVE handling by default ( see hbgtwvt.h )
  * include/hbgtwvt.h
   + added extern BOOL HB_EXPORT hb_wvt_gtSetMouseMove( BOOL bHandleEvent)
   *     - allows mouse movement events to be handled

2003-12-29 02:25 UTC+0100 Francesco Saverio Giudice <info@fsgiudice.com>
  + doc/en/bkgtsks.txt
  * doc/en/set.txt
    + Added background tasks documentation.

2003-12-28 23:14 UTC+0100 Przemyslaw Czerpak <druzus@polbox.com>
  * xharbour/config/rules.cf
   * small fixes

  * xharbour/config/dos/djgpp.cf
   * fixed include dirs

  * xharbour/config/dos/watcom.cf
   * fixed include dirs
   * some optimizations enabled - Loernzo please check your sources
     if it will break anything I would like to know so I'll rewert it.

  * xharbour/xharbour.spec
   * fixed missing "'" in PLD detection
   * Aurox distro detection added

  * xharbour/source/vm/errorapi.c
   * small change to cause GPF in DJGPP for //ERRGPF switch.

  * xharbour/contrib/libct/keyset.c
   * fixed missing ")"

  * xharbour/contrib/libct/files.c
   * disabled some part of code to compile it with OpenWatcom
     It should be reverted and OpenWatcom support added.

  * xharbour/source/rtl/inkey.c
   * replaced fixed 100 with sysconf(_SC_CLK_TCK)

  * xharbour/include/hbapi.h
  * xharbour/source/rtl/idle.c
   + added new function: void hb_idleSleep( double dSeconds )
     we have new feature: background task, they should be served
     in idle loops too. So instead of changing a lot of files
     to add such support I created new function hb_idleSleep
     and replaced all idle loops with timer I found with call to it.
     I want to group all this functions in one place (Giancarlo,
     I'm thinking about ThreadSleep too) and then add support for
     asynchronous background task execution for these platforms where
     it is possible eliminating counters, time checking and
     keyboard polling from main VM loop just after 0.92

  * xharbour/source/rtl/gtcrs/gtcrs.c
  * xharbour/source/rtl/gtdos/gtdos.c
  * xharbour/source/rtl/gtnul/gtnul.c
  * xharbour/source/rtl/gtpca/gtpca.c
  * xharbour/source/rtl/gtsln/gtsln.c
  * xharbour/source/rtl/gtwin/gtwin.c
   * replaced idle loops with timer with hb_idleSleep()
     Paul I live some comments in GTWIN gt_tone() function.
     Can you read it and check if it works.

  * xharbour/source/vm/Makefile
   + thread.c has to be compiled on DOS too as far as it has functions
     which are used in ST programs (SECONDSSLEEP())

  * xharbour/source/vm/thread.c
   + added support for DOS OpenWatcom

2003-12-27 13:10 UTC+0100 Francesco Saverio Giudice <info@fsgiudice.com>
  * source/rtl/bkgtsks.c
    * Fixed dSeconds initialization.

2003-12-27 12:20 UTC+0100 Francesco Saverio Giudice <info@fsgiudice.com>
  * hrbdll.bc
    + source/vm/thread.c

2003-12-27 03:40 UTC+0100 Francesco Saverio Giudice <info@fsgiudice.com>
  * source/rtl/bkgtsks.c
    * Completed background tasks.
      Added a structure contains all informations about tasks.
      Now we have time in milliseconds after the task will be executed
      and Active flag that defines if the task has to be executed or not.
    on C level
    * ULONG hb_backgroundAddFunc( PHB_ITEM pBlock, int nMillisec, BOOL bActive )
      Add a new task:
      - pBlock     = can be a codeblock or an array as defined in hb_ExecFromArray()
      - nMillisec  = number of milliseconds the task have to run, default 0 = always run
      - bActive    = .T. the task is active
    + BOOL hb_backgroundActive( ULONG ulID, BOOL bActive )
    + int hb_backgroundTime( ULONG ulID, int nMillisec )
    + PHB_BACKGROUNDTASK hb_backgroundFind( ULONG ulID )
      internal function that returns the task
    on PRG level
    * hb_BackgroundAdd( bBlock|aArray, nMillisec, lActive ) --> nID
    + hb_backgroundActive( nID, lActive ) --> lOldActive
    + hb_backgroundTime( nID, nMillisec ) --> nOldTime

  * source/vm/hvm.c
    * Changed background counter to 1000 vm exec.
  * include/hbapi.h
    + added support for new background functions and HB_BACKGROUNDTASK structure
  * include/thread.h
    * changed support for background defines
  * tests/bkgtest.prg
    * Updated with new and complete tests

2003-12-26 22:46 utc+0530 Pritpal Bedi <pritpal@vouchcac.com>
  * source/rtl/gtwvt/gtwvt.c
    * More formatting to make it more readable,
    * Colors made 100% compatible with console window.
    * K_MOUSEMOVE functionality added.

2003-12-26 14:05 UTC-0300 Antonio Carlos Pantaglione <toninho@fwi.com.br>
  * include/struct.ch
    ! AutoAdd is set to .F. to prevent creation of new datas outside structure/endstructure.
      Now we get a bound error, instead having an item added to a structure.

2003-12-24 17:15 UTC-0300 Luiz Rafael Culik Guimaraes <culikr@brturbo.com>
  * bin/hb-funcs.sh
    ! conectiva was prefix by rh insted of cl, fixed

2003-12-24 17:10 UTC-0300 Luiz Rafael Culik Guimaraes <culikr@brturbo.com>
  * contrib/mysql/Makefile
    ! Minor fix

2003-12-24 10:00 UTC-0300 Walter Negro <anegro@overnet.com.ar>
  * source/rtl/valtype.c
    ! Fix HB_ISNUMBER(), now return FALSE for CHAR(1)
    Reported by Toninho

2003-12-24  02:19 UTC-0800 Ron Pinkas <ron@ronpinkas.com>
  * source/rtl/gtwvt/gtwvt.c
    * MSVC fixes

  * source/rdd/dbfcdx/dbfcdx1.h
    + Added #pragma pack support for MSVC

2003-12-23 16:14 UTC-0800 Ron Pinkas <ron@ronpinkas.com>
  * contrib/what32/source/_windraw.c
  * contrib/what32/source/_winfont.c
  * contrib/what32/source/_wingdi.c
  * contrib/what32/source/_winhead.c
  * contrib/what32/source/_winlv.c
  * contrib/what32/source/_winmisc.c
  * contrib/what32/source/_winscrlb.c
  * contrib/what32/source/_winsock.c
  * contrib/what32/source/whatutil.prg
  * contrib/what32/source/wincore.prg
    * Replaced direct access to hb_stack with API access.
    * Minor corrections.

2003-12-23 23:48 UTC+0100 Przemyslaw Czerpak <druzus@polbox.com>
  * xharbour/config/w32/mingw32.cf
    * grouped xHarbour libraries to resolve problem with cyclic cross
      referenced and gdi32, comctl32 libs added for linking with GTWVT

  * xharbour/bin/hb-func.sh
    * gdi32, comctl32 libs added for linking with GTWVT

  * xharbour/make_tgz.sh
  * xharbour/xharbour.spec
    * remove unnecessary now definitions

2003-12-23 17:50 UTC-0300 Mauricio Abre <maurifull@datafull.com>
  * source/rtl/gtwvt/gtwvt.c
    ! Fixed color values to be more DOS-like

2003-12-24 08:33 UTC+1200 Peter Rees <peter(AT)rees.co.nz>
  * /source/rtl/persist.prg
  + Handle string enclosed in [] when replacing CHR(13) & CHR(10)

2003-12-24 07:17 UTC+1200 Peter Rees <peter(AT)rees.co.nz>
  * /source/rtl/persist.prg
  + fixed for save data prior to "// HBPersistent Ver 2.0"

2003-12-23 21:50 UTC+0530 Pritpal Bedi <pritpal@vouchcac.com>
   * source/rtl/gtwvt/gtwvt.c
     * #define WHITE RGB( 0xC6, 0xC6, oxC6 )
       White color more near to terminal screen.
     * Formatting to make it more tangible to new comers.

2003-12-22 22:36 UTC-0800 Ron Pinkas <ron@ronpinkas.com>
   * source/rdd/dbcmd.c
     * Fixes to HB_FUNC( SELECT ) and HB_FUNC( DBSETRELATION ) related to last change.

2003-12-23 15:51 UTC+1200 Peter Rees <peter(AT)rees.co.nz>
  * /source/rtl/gtwvt/gtwvt.c
  + Fix handling of K_LBUTTONUP & K_RBUTTONUP

2003-12-23 15:51 UTC+1200 Peter Rees <peter(AT)rees.co.nz>
  * /source/vm/mainwin.c
  + update to use HB_FM_WIN32_ALLOC so malloc() is default not LocalAlloc()

2003-12-23 01:44 UTC+0100 Przemyslaw Czerpak <druzus@polbox.com>
  * xharbour/config/dos/dir.cf
  * xharbour/config/dos/global.cf
  * xharbour/config/dos/install.cf
  * xharbour/config/w32/global.cf
    * small cleanups

  * xharbour/include/hbsetup.h
  * xharbour/source/vm/fm.c
    + new macro HB_FM_WIN32_ALLOC which enable Win API
      LocalAlloc()/LocalFree() instead of C malloc()/free()
    * HB_FM_WIN32_ALLOC is disable by default

  + xharbour/tests/speedtst.prg
    + simple program for speed test added

2003-12-23 13:45 UTC+1200 Peter Rees <peter(AT)rees.co.nz>
  * /source/rtl/persist.prg
  + fixed bug if CHR(13) or CHR(10) embedded in character string variable
  +       and also if character string length > 254 character
  +       i.e. removed use of MLCOUNT() / MEMOLINE()

2003-12-23 07:00 UTC+0700 Andi Jahja <xharbour@cbn.net.id>
  * source/rtl/gtwvt/gtwvt.c
    * modify castings on hb_hInstance and hb_hPrevInstance for MSVC.

2003-12-22 22:47 UTC+0100 Przemyslaw Czerpak <druzus@polbox.com>
  * xharbour/config/dos/watcom.cf
  * xharbour/config/w32/msvc.cf
  * xharbour/config/w32/watcom.cf
  * xharbour/source/rtl/gtwin/gtwin.c
  * xharbour/source/rtl/gtwvt/gtwvt.c
  * xharbour/source/rtl/gtwin/mousewin.c
    * small fixes for HB_MULTI_GT mode

2003-12-22 12:16 UTC-0800 Ron Pinkas <ron@ronpinkas.com>
   * source/rdd/dbcmd.c
     * Removed redundant logic by calling hb_rddSelectWorkAreaAlias() instead of hb_rddSelect().
     * Some formating.

   /*
      Przemek, can you please review, I belive it makes the code and error handling more consistent.
      but I'd like you to confirm it's ok.
    */

2003-12-22 10:54 UTC-0800 Ron Pinkas <ron@ronpinkas.com>
  * source/pp/ppcomp.c
    * Protected unconditional call to hb_pp_WrStr()

2003-12-22 08:45 UTC-0800 Ron Pinkas <ron@ronpinkas.com>
  * contrib/what32/_winserial.c
    ! Fixed handling of 2nd param in HB_FUNC( TRANSMITCOMMCHAR )

2003-12-22 08:01 UTC-0800 Ron Pinkas <ron@ronpinkas.com>
  * source/pp/ppcomp.c
    * Corrected typo that caused parse error if no -P used.

2003-12-22 15:00 UTC+0100 Lorenzo Fiorini <lorenzo_fiorini/at/tin.it>
  * bin/bld.bat
  * config/w32/watcom.cf
    * gtwvt needs comctl32.lib
  * source/rtl/memoedit.prg
    * avoid rt errors when nUserKey == nil

2003-12-21 20:54 UTC-0800 Ron Pinkas <ron@ronpinkas.com>
  * source/pp/ppcore.c
    ! Fixed handling of multiple escapes (//) to allow generation of escape in nested #directive
      (reported by Francesco)

  * source/pp/ppcomp.c
    + Added logic to generate output for nested #directives genreated by pre-processing (Clipper compatibility).

2003-12-22 15:07 UTC+1200 Peter Rees <peter(AT)rees.co.nz>
  * fixed HB_GT_FUNC(gt_SetAttribute( )) so hb_shadow() works correctly

2003-12-22 14:25 UTC+1200 Peter Rees <peter(AT)rees.co.nz>
  * moved /source/rtl/gtwvt/gtwvt.h to /include/hbgtwvt.h
  + added version no/Id line to gtwvt.c & hbgtwvt.h
  + Changed "Peter Rose" to "Peter Rees" in this Changelog :-)

2003-12-22 07:20 UTC+0700 Andi Jahja <xharbour@cbn.net.id>
   * source/rtl/gtwvt/gtwvt.c
     * fixed compilation under MSVC

2003-12-22 00:30 UTC+0100 Francesco Saverio Giudice <info@fsgiudice.com>
  * source/vm/hvm.c
    ! Fixed background counter.
      Moved to global vm level so it will not be cleared on vmExecute() exit.
      Thanks to Giancarlo Niccolai.
  * source/rtl/bkgtsks.c
    on C level
    + void hb_backgroundRunSingle( void ) - to run a single background task manually
    on PRG level
    * HB_BackgroundRun( [ nTaskID ] )     - passing nTaskID returned from HB_BackgroundAdd()
                                            it is possible to run manually a single task
                                          - without parameter all tasks will be run
  * include/hbapi.h
    + added support for hb_backgroundRunSingle()
  * tests/bkgtest.prg
    * Updated with other tests
  * makefile.bc
  * makefile.vc
  * makefile.nt
    * updated for new GTWVT written by Peter Rees  (great job Peter)
      /*
      for ppl who want test it set:
      HB_GT_LIB=gtwvt
      CFLAGS=-W   (plus other flags already present)
      then you can compile tests with bldtest.bat in tests folder
      */

2003-12-21 22:30 UTC+0100 Przemyslaw Czerpak <druzus@polbox.com>
  * xharbour/make_gnu.bat
  * xharbour/make_gnu.cmd
  * xharbour/make_gnu.sh
  * xharbour/make_mingw.sh
  * xharbour/bin/!pack_src.bat
  * xharbour/bin/bld.bat
  * xharbour/bin/hb-func.sh
  * xharbour/bin/pack_src.sh
  * xharbour/config/w32/global.cf
  * xharbour/include/hbapigt.h
  + xharbour/source/rtl/gtwvt/Makefile
    * updated for new GTWVT written by Peter Rees

  * xharbour/source/rtl/gtwvt/gtwvt.c
    * casting for OpenWatcom (and probably other C++) compilation.

2003-12-22 10:11 UTC+1200 Peter Rees <peter(AT)rees.co.nz>
  * source/rtl/memoedit.prg
  + fixed bug where cUserfunction:= .F. was not being respected

2003-12-22 08:45 UTC+1200 Peter Rees <peter(AT)rees.co.nz>
  + added source/rtl/gtwvt gtwvt.c gtwvt.h
  * new Windows colsole mode gt system


2003-12-21 00:15 UTC-0300 Walter Negro <anegro@overnet.com.ar>
  * source/valtype.c
    + NEW Function HB_ISNULL()
      Used to optimize LEN(x)==0 or LEN(x)!=0 (see include/common.ch)
        where x can be of type: STRING, ARRAY or HASH
  * include/common.ch
    + #xtranslate for HB_ISPOINTER()
    + #xtranslate for HB_ISNULL()

2003-12-20 23:45 UTC-0300 Walter Negro <anegro@overnet.com.ar>
  * contrib/mysql/Makefile
    * Indented
  * contrib/mysql/mysql.c
    % Code optimization
  * contrib/mysql/tmysql.prg
    ! Fix minor bug in type of data.

2003-12-20 23:15 UTC-0300 Mauricio Abre <maurifull@datafull.com>
  * source/rtl/sprintf.prg
    ! Fixed bug returning '%' before numbers
  * source/rtl/dbedit.prg
    * Compatibility issue: Clipper displays dbedit() even if dbf empty, then calls UserFunc

2003-12-20 12:08 UTC+0100 Lorenzo Fiorini <lorenzo_fiorini/at/tin.it>
  * source/rtl/net.c
    * added a trick to fix NETNAME() with OpenWatcom 1.1 DOS
    a better solution is welcome

2003-12-20 11:30 UTC+0100 Lorenzo Fiorini <lorenzo_fiorini/at/tin.it>
  * source/vm/cmdarg.c
    * use the //F:n parameter to open more than 20 files
      with OpenWatcom 1.1 DOS
  * config/rules.cf
  * config/w32/watcom.cf
  * config/dos/watcom.cf
    * all libraries now look for HB_LIB_COMPILE path
    * added support of HB_USER_LIBS to build user apps
    with gnu make and the config dir can be used for user applications
    simply copying the config dir in the user app tree, creating Makefiles like
    xHarbour ones using lib, bin, dir config files and adding app libraries to HB_USER_LIBS.
    The build script should set HB_BIN_COMPILE, HB_LIB_COMPILE, HB_INC_COMPILE to xHarbour directories
    and use HB_USER_FLAGS for app defines flags and include dirs

2003-12-19 00:00 UTC-0300 Mauricio Abre <maurifull@datafull.com>
  * source/rtl/sprintf.prg
    + Added xHarbour header
  * source/rtl/dbedit.prg
    ! Ignoring UserFunc return code in initialization
      (some ppl use dbedit() to show data & return 0 inmediatly in UserFunc)
    ! Moved Top/Bottom detection after TBrowse stabilization
  * tests/dbedit.prg
    + Added hitTop/Bottom test code

2003-12-19 17:06 UTC-0800 Ron Pinkas <ron@ronpinkas.com>
  * include/hbapi.h
  * source/vm/garbage.c
    * synched HB_EXPORT declarations.

2003-12-19 13:00 UTC+0600
  * source/rtl/teditor.prg
    + complete rewrite of key methods, multiple bug fixes

2003-12-19 23:28 UTC+0100 Giancarlo Niccolai <antispam /at/ niccolai [dot] ws>
  * source/rtl/bkgtsks.c
    ! Ops, the error has been copied here... Fixed.

2003-12-19 23:06 UTC+0100 Giancarlo Niccolai <antispam /at/ niccolai [dot] ws>
  * source/rtl/idle.c
    ! Ops, I had introduced a little error in recording the old address of the
      codeblock. Fixed.

2003-12-19 17:32 UTC+0100 Giancarlo Niccolai <antispam /at/ niccolai [dot] ws>
  * include/thread.h
    % Thread VM Cancelation is now tested each 5000 loops instead of 1000.
      Again, this seems to speed up normal MT programs by a good deal.

2003-12-19 17:15 UTC+0100 Giancarlo Niccolai <antispam /at/ niccolai [dot] ws>
  * include/hbapi.h
    + added hb_background* functions definitions
    + added hb_idleAddFunc() and hb_idleDelFunc functions definitions

  * include/thread.h
    % Thread VM Cancelation is now tested each 1000 loops instead of 100.
      This seems to speed up normal MT programs by a good deal.
    + Added support for background functions under MT.

  * source/vm/hvm.c
  * source/vm/thread.c
  * source/rtl/bkgtsks.c
    + Added support for background functions under MT.


2003-12-19 02:38 UTC-0800 Ron Pinkas <ron@ronpinkas.com>
  * source/vm/hvm.c
    ! Fixed GPF trap related to un-initialized .type before passed to hb_hashGet().

2003-12-18 23:28 UTC-0800 Ron Pinkas <ron@ronpinkas.com>
  * include/hbstack.h
  * source/vm/estack.c
    + Added HB_EXPORT HB_STACK hb_GetStack()

  * include/thread.h
    + added #ifndef HB_VM_STACK before #define HB_VM_STACK

  * include/hbapi.h
  * source/vm/garbage.c
  * source/vm/memvars.c
    + Added few missing HB_EXPORT qulifiers.

  * source/vm/hvm.c
    * Minor formatting.

2003-12-19 04:21 UTC+0100 Francesco Saverio Giudice <info@fsgiudice.com>
  * source/vm/hvm.c
    forgot to signal in changelog before
    * updated to run background functions every 5000 cycles of vm machine
      ! PLEASE REMEMBER that background function must do FAST work
        otherwise all prg will decrease speed

  * tests/bkgtest.prg
    + Added other tests to show use of Background functions

2003-12-18 22:41 UTC-0300 Mauricio Abre <maurifull@datafull.com>
  + source/rtl/sprintf.prg
    + initial sprintf() version with basic conversions
      Thanks to Walter Negro for telling me the hope of a printf() availability
  * source/rtl/Makefile
    + Added printf.prg to PRG_SOURCES
  * include/std.ch
    + translate printf(...) to ? sprintf(...)
  + test/printf.prg
    + basic printf() test

2003-12-19 02:31 UTC+0100 Francesco Saverio Giudice <info@fsgiudice.com>
  + source/rtl/bkgtsks.c
    ! Added:
      At C Level
      void hb_backgroundRun( void )
      void hb_backgroundReset( void )
      void hb_backgroundShutDown( void )
      ULONG hb_backgroundAddFunc( PHB_ITEM pBlock )
      PHB_ITEM hb_backgroundDelFunc( ULONG ulID )

      At PRG Level
      HB_BackgroundAdd()
      HB_BackgroundDel()
      HB_BackgroundRun()
      HB_BackgroundReset()

    Now we can have multitasking on ST !
    This is done as an extension of idle state.
    Background functions works on every vmExecute() call,
    so PAY ATTENTION in use of them! A wrong use will make your prg very SLOW.
    Background functions are operative throught a SET BACKGROUND TASKS ON|OFF
    or Set( _SET_BACKGROUNDTASKS, .T.|.F. )
    Default is set to FALSE.
    Even it is set to FALSE, you can call it explicitly using HB_BackgroundRun()
    i.e. inside HB_Idle*() functions.

  * include/hbset.h
  * include/set.ch
  * source/pp/pptable.c
  * source/rtl/set.c
  * source/rtl/Makefile
  * makefile.bc
  * makefile.vc
  * makefile.nt
  * hrbdll.bc
  * hrbdll.vc
    * touched for background functions


  + tests/bkgtest.prg
    + Added tests to show use of Background functions

2003-12-18 12:10 UTC+0100 Przemyslaw Czerpak <druzus@polbox.com>
  * xharbour/source/compiler/harbour.c
    * casting added

  - xharbour/Changelog.012
  - xharbour/Changelog.013
  + xharbour/ChangeLog.012
  + xharbour/ChangeLog.013
    * renamed Changelog to ChangeLog

2003-12-18 13:11 UTC-0800 Ron Pinkas <ron@ronpinkas.com>
  * source/rtl/abs.c
  * source/rtl/chrasc.c
  * source/vm/extend.c
  * source/vm/hvm.c
  * source/vm/itemapi.c
    ! Fixed numeric context of char subtype to be consistent.

  * utils/hbtest/rt_math.prg
  * utils/hbtest/rt_str.prg
  * utils/hbtest/rt_stra.prg
    * Corrected expected values of expressions involving numeric context of char subtype.

2003-12-18 17:15 UTC+0100 Giancarlo Niccolai <antispam /at/ niccolai [dot] ws>
  * include/hbstruct.ch
    ! Hash() must be set case insensitive at creation to
      provide coherently the oStru:c1 grammar
  * tests/struct.prg
    * more intensive tests

2003-12-18 15:46 UTC+0100 Giancarlo Niccolai <antispam /at/ niccolai [dot] ws>
  * source/rtl/idle.c
    + Added hb_idleAddFunc() and hb_idleDelFunc() as
      C callable frontends for HB_IdleAdd() and HB_IdleDel()
    + Idle functions can now be both codeblocks and
      executable arrays (that is, array that can be passed
      to hb_execFromArray()). This allows to dynamically
      create (or change) idle functions, even from C programs,
      very easily.
    ! HB_IdleDel() could possibly have caused GPF. Luckily,
      it is seldom used.

  + tests/idletest.prg
    + Added tests for executable array and codeblock idle
      functions; added a test also for HB_IdleDel
      (now working).

2003-12-18 12:10 UTC+0100 Przemyslaw Czerpak <druzus@polbox.com>
  * xharbour/config/linux/gcc.cf
    * Ups, sorry missing '(' ')' added

2003-12-18 11:52 UTC+0100 Przemyslaw Czerpak <druzus@polbox.com>
  * xharbour/make_tgz.sh
  * xharbour/bin/hb-func.sh
  * xharbour/bin/postinst.sh
  * xharbour/config/linux/gcc.cf
  * xharbour/config/w32/mingw32.cf
    * small fixes and formating

2003-12-18 07:41 UTC+0700 Andi Jahja <xharbour@cbn.net.id>
  * source/vm/itemapi.c
    * remove un-needed routine to copy double number to a string which
      may cause slowness in applications.

2003-12-17 15:52 UTC-0800 Ron Pinkas <ron@ronpinkas.com>
  * source/pp/ppcore.c
    ! Fixed compilation of <> in #directives.

  * source/rtl/console.c
    + Added OutputDebugString() in hb_conOutErr() if under Windows.

  * source/vm/estack.c
    * Minor formatting.

2003-12-17 15:40 UTC-0300 Walter Negro <anegro@overnet.com.ar>
  * source/rtl/tobject.prg
    % Optimize and reformatted code.
    %! Fix and optimize TAssociativeArray_GetKeyPos().

2003-12-16 19:52 UTC-0800 Ron Pinkas <ron@ronpinkas.com>
  * source/compiler/genc.c
  * source/compiler/harbour.c
    ! Fixed INIT/EXIT Procedures to be more Clipper compatible
      Don't conflict with other symbols of same name, and use $ as suffix like in Clipper.

2003-12-16 12:15 UTC+1200 Peter Rees <peter@rees.co.nz>
  * source/vm/mainwin.c
    *fixed to make sure terminating '\0' is on final parameter

2003-12-15 14:41 UTC-0800 Ron Pinkas <ron@ronpinkas.com>
  + source/codepage/CDPHR1250.C
  + source/codepage/CDPHR852.C
  + source/lang/MSGHR1250.C
    + Added new files contributed by Vladimir Miholic [mailto:Vladimir.Miholic@sk.hinet.hr]

  * source/lang/msghr852.c
    Update contributed by Vladimir Miholic [mailto:Vladimir.Miholic@sk.hinet.hr]

  * hrbdll.bc
  * makefile.bc
    + Added support for new hr1250 language and hr852 and hr1250 codepage files.

2003-12-16 08:43 UTC+1200 Peter Rees <peter@rees.co.nz>
  *  restored 4 changelog entries below

2003-12-15 15:24 UTC+1200 Peter Rees <peter@rees.co.nz>
  * source/vm/mainwin.c
    *added LocalFree( pArgs ) after hb_vmQuit() to. Ok on Win9X now.

2003-12-15 15:24 UTC+1200 Peter Rees <peter@rees.co.nz>
  * source/vm/mainwin.c
    *remove LocalFree( pArgs ) as causes problem with Win9X

2003-12-15 11:41 UTC+1200 Peter Rees <peter@rees.co.nz>
  * source/vm/mainwin.c
    *fix last change for exception if only parameter is "
       e.g. test "

2003-12-15 11:11 UTC+1200 Peter Rees <peter@rees.co.nz>
  * source/vm/mainwin.c
    *altered to handle command line quoted parameters correctly for Windows
       e.g. test "Param 1" param2 "Param 3"

2003-12-15 15:08 UTC+0100 Przemyslaw Czerpak <druzus@polbox.com>
  * xharbour/source/vm/cmdarg.c
    * fixed memory leak in hb_cmdargGet. Warning if the second param
      is FALSE then returned value cannot be directly used but only
      tested for (not) NULL

2003-12-15 07:06 UTC+0100 Giancarlo Niccolai <antispam /at/ niccolai [dot] ws>
  * source/vm/thread.c
  * include/thread.h
    ! Compilation of __thread keyword allowed only for gcc >= 3
    + Added macro
       -DHB_THREAD_TLS_BUG
    Without it, the compilation of -DHB_THREAD_TLS_KEYWORD is exactly
    like on windows, that is, faster. Platforms having the GCC bug must
    add this define to avoid immediate Seg fault.

2003-12-15 05:02 UTC+0100 Giancarlo Niccolai <antispam /at/ niccolai [dot] ws>
  * source/vm/thread.c
    ! fixed windows compilation

2003-12-15 03:30 UTC+0100 Giancarlo Niccolai <antispam /at/ niccolai [dot] ws>
  * source/vm/arrays.c
    ! removed an old useless comment

  * source/vm/fm.c
    * romoved a useless ceck in if

  * source/vm/memvars.c
    * changed _pStack_ in HB_VM_STACK

  * include/thread.h
  * source/vm/thread.c
    + Added __thread TLS variable to access stack instead of
      hb_getCurrentStack();
      This change is now available only with
         -DHB_THREAD_TLS_KEYWORD
      defined


2003-12-14 12:27 UTC+0100 Przemyslaw Czerpak <druzus@polbox.com>
  * xharbour/contrib/libct/Makefile
    - removed C_USR=... - it disabled user C switches

2003-12-14 13:42 UTC+0700 Andi Jahja <xharbour@cbn.net.id>
  * source/compiler/genc.c
    * allow xHarbour to produce C file for inline C routines contained in a PRG
      file eventhough the PRG file does not contain a single PRG routine.

2003-12-13 17:57 UTC-0800 Ron Pinkas <ron@ronpinkas.com>
  * source/rtl/hblog.prg
    % Optimized to use FOR EACH/
    * Minor formating.

2003-12-13 21:07 UTC+0100 Francesco Saverio Giudice <info@fsgiudice.com>
  * hrbdll.bc
    + source/rtl/readline.c

2003-12-14 02:40 UTC+0700 Andi Jahja <xharbour@cbn.net.id>
  * source/vm/macro.c
    * add #include "hbfast.h" to please MSVC
  * source/rtl/readline.c
    * some type casts for MSVC

2003-12-13 11:26 UTC-0800 Ron Pinkas <ron@ronpinkas.com>
  * source/vm/hash.c
    + Added Owners Management support.
    * Minor optimizations and formating.

  * tests/hash.prg
    * Minor formating

2003-12-13 19:10 UTC+0100 Przemyslaw Czerpak <druzus@polbox.com>
  * xharbour/tests/rddspeed.prg
    * close and then reopen database after index creation to workaround
      Clipper bug. After index creation Clipper lose index locking
      and works like in exclusive mode when in fact it's shared mode.

2003-12-13 18:52 UTC+0100 Przemyslaw Czerpak <druzus@polbox.com>
  * xharbour/source/rdd/dbfcdx/dbfcdx1.c
    * typo in comment fixed

  * xharbour/Makefile
  * xharbour/bin/hb-func.sh
  * xharbour/config/dir.cf
  * xharbour/config/install.cf
  * xharbour/config/dos/install.cf
  * xharbour/config/linux/install.cf
  * xharbour/config/w32/install.cf
    ! fixed redundant pass in 'install' I introduced recently
    * next changes and cleanups for msys build

2003-12-13 12:43 UTC-0500 Paul Tucker <ptucker@sympatico.ca>
  * hrbdll.vc
  * makefile.nt
  * makefile.vc
    + source/rtl/readline.c

2003-12-13 14:45 UTC-0300 Marcelo Lombardo <lombardo@uol.com.br>
  * source/rtl/readline.c
     ! Optimized and improved HB_FREADLINE()
  * source/vm/dbsdf.prg
     ! Fixed APPEND FROM SDF (now using HB_FREADLINE() to read txt lines)
  * source/tests/dbsdf.prg
     + Sample test to APPEND FROM SDF
  * source/tests/tstline.prg
     + Sample test to HB_FREADLINE()

2003-12-13 08:51 UTC-0800 Ron Pinkas <ron@ronpinkas.com>
   * bin/bld.bat
     + Added support for %HB_USER_LIBS% for BCC32 and MSVC

   * source/vm/macro.c
     ! Fixed another lurking bug resulting from premature release of item containing string to be parsed.

2003-12-13 14:00 UTC+0700 Andi Jahja <xharbour@cbn.net.id>
  * ChangeLog
    * Rename ChangeLog to ChangeLog.017
    * Add new ChangeLog
  * source/vm/hvm.c
    * minor changes to fix representation of -0 value (I hope this is the last part)

