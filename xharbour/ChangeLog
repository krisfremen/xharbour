/*
 * $Id: ChangeLog,v 1.4634 2005/11/16 13:25:19 druzus Exp $
 */

/* Use this format for the entry headers:
   YYYY-MM-DD HH:MM UTC[-|+]hhmm Your Full Name <your_email@address>
   For example:
   2002-12-01 23:12 UTC+0100 Foo Bar <foo.bar@foobar.org>
*/

2005-11-16 19:45 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * xharbour/include/hbvmpub.h
  * xharbour/source/vm/hash.c
  * xharbour/source/vm/fastitem.c
    + ulHolder counter for Hash implemented. Hash memory is released 
      if hash is not referenced. No need to call garbage collector.

2005-11-16 14:11 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * xharbour/bin/pack_src.sh
    * updated for fmstat lib
  * xharbour/source/vm/fmstat/Makefile
    * minor modification

2005-11-16 13:35 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * xharbour/bin/pack_src.bat
  * xharbour/bin/pack_src.sh
    * updated for nulsys.prg -> nulsys.c modification

2005-11-16 13:14 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * xharbour/include/hbvmpub.h
    * changed the order of members in hb_struString to safe four bytes
      on Win64
    * changed definition of HB_SYMB structure.
          HB_SYMBOLSCOPE    cScope
      replaced by:
         union
         {
            HB_SYMBOLSCOPE    value;      /* the scope of the symbol */
            void *            pointer;    /* filler to force alignment */
         } scope;
      This modification should only force the same alignment independently
      on used compiler switched or executed #pragma pack*
      It's important to keep this structure with fixed size because it's
      used in .c files generated from .prg code.
      The code with #pragma pack* commented out - it should not be longer
      necessary but please make a real tests with different compiler
      alignment switches

  * xharbour/source/compiler/genc.c
  * xharbour/contrib/libnf/fttext.c
  * xharbour/contrib/rdd_ads/ads1.c
  * xharbour/source/rdd/dbf1.c
  * xharbour/source/rdd/delim1.c
  * xharbour/source/rdd/sdf1.c
  * xharbour/source/rdd/dbfcdx/dbfcdx1.c
  * xharbour/source/rdd/dbfdbt/dbfdbt1.c
  * xharbour/source/rdd/dbffpt/dbffpt1.c
  * xharbour/source/rdd/dbfntx/dbfntx1.c
  * xharbour/source/rtl/version.c
  * xharbour/source/vm/classes.c
  * xharbour/source/vm/cmdarg.c
  * xharbour/source/vm/dynsym.c
  * xharbour/source/vm/hvm.c
  * xharbour/source/vm/initsymb.c
  * xharbour/source/vm/runner.c
  * xharbour/utils/xbscript/xbs_harb.ch
    * updated for modified HB_SYMB structure.

2005-11-16 10:15 UTC+0100 Maurilio Longo <maurilio.longo@libero.it>
   * source/rtl/tbrowse.prg
     * TBrowse cache has to cache colorblock evaluation result since it
       is possible to have a colorblock like {|| iif( Recno() .... ) } which
       is not valid if we read clipper documentation, but clipper handles
       it anyway.
     ! ColorRect() can set more than a colored region on a TBrowse and this
       region has to live until after it is moved out of sight with a vertical
       movement, but it has to remain visibile during horizontal movements.
     ! Fixed a bug reported on the newsgroup ( dbEdit() after a dbGoBottom() )
       using the fix supplied by <dos513@email.si>


2005-11-15 23:18 UTC-0800 Ron Pinkas <Ron in xHarbour.com>
  * source/macro/macro.y
    ! Fixed support for a single BYREF argument
  * source/vm/macro.c
    * Minor revision in HB_COMPILEMACRO()

  * utils/xbscript/rp_run.src
  * utils/xbscript/xbscript.prg
    ! Fixed FOR EACH rule in consideration of #translate IN => $
    ! Fixed PPOut() to accept NIL Matcher type for List result (see: ?? 1, 2)
    * Fixed support for negative step in PP__FOR

2005-11-15 22:39 UTC-0400 Marcelo Anelli <marceloanelli@users.sourceforge.net>
  * contrib/libnf/stod.c
    ! fixed to support al OS, is exactly as STOD()
  * contrib/libnf/samples/libnf.prg
    + Demo and test added for FT_DTOS()

2005-11-16 00:06 UTC+0100 Francesco Saverio Giudice <info@fsgiudice.com>
  * hrbdll.vc
  * hrbdll.bc
  * makefile.bc
    * fixed path for nulsys.c

2005-11-15 12:16 UTC-0800 Ron Pinkas <Ron in xHarbour.com>
  * hrbdll.vc
  * makefile.nt
  * makefile.vc
    * nulsys.prg -> .c

  * include/hbapi.h
  * source/vm/fastitem.c
    - Removed redundant hb_retclenRawStatic()
  * source/rtl/chrasc.c
  * source/rtl/str2ptr.c
    * hb_retclenRawstatic() -> hb_retclenStatic()

  * source/vm/hvm.c
    + Added prg level HB_vmExecute( <cPCode> [, pSym [, pGlobals ] ] ) -> xRet
  * source/vm/macro.c
    + Added prg level HB_CompileMacro( <cExp> ) -> cPCode

  * utils/xbscript/xbscript.prg
    * Work in progress, support more direct pcode compilation.

2005-11-15 11:00 UTC-0800 Ron Pinkas <Ron in xHarbour.com>
  * makefile.bc
  * hrbdll.bc
    * nulsys.prg -> .c

2005-11-15 19:43 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * xharbour/source/rtl/tgetlist.prg
    * use ValToPrg() instead of Str() for index to string conversion in
      GetReadVar() method. Now hash items can be used in get system, f.e.:
        @ 10, 10 SAY "Change set ABC:" GET set["ABC"]
      Thanks to Victor for pointing that.

  * xharbour/source/rtl/cstr.prg
    ! fixed conversion of string item with all string delimiters, f.e.:
      ValToPrg("['"+chr(34)

2005-11-15 14:05 UTC-0400 Marcelo Anelli <marceloanelli@users.sourceforge.net>
  * contrib/libnf/popadder.prg
    ! fixed typo on output text
    ! fixed CRLF from CHR(13)+CHR(10) to Hb_OsNewLine()
  * contrib/libnf/blink.prg
    * FT_BLINKW32( <Message>, <Row>, <Col>, <Blink Time> ) with support
        for more than one blink message.
  * contrib/libnf/samples/libnf.prg
    + Demo and test added for FT_D2E(), FT_DEC2BIN() and FT_E2D()

2005-11-15 14:37 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * xharbour/source/rdd/dbf1.c
    ! fixed typo in DBRI_RAWDATA

  * xharbour/source/rtl/dates.c
    * small Clipper compatibility modification

  * xharbour/source/rdd/nulsys/Makefile
  - xharbour/source/rdd/nulsys/nulsys.prg
  + xharbour/source/rdd/nulsys/nulsys.c
    * rewritten nulsys.prg in .c
      Please update non GNU make files

2005-11-14 23:55 UTC-0300 Luiz Rafael Culik<luiz at xharbour.com.br>
  * source/ct/getsecrt.prg
    ! Fixed Cursor showing. Reported by Marco Aurelio V. da Silva

2005-11-14 23:50 UTC+0100 Lorenzo Fiorini <lorenzo_fiorini/at/teamwork.it>
  * bin/hb-func.sh
  * bin/postinst.sh
    * changed to use libfmstat

2005-11-14 23:15 UTC+0100 Lorenzo Fiorini <lorenzo_fiorini/at/teamwork.it>
  * include/hbsetup.h
  * source/vm/Makefile
  * source/vm/hvm.c
  - source/vm/optcon
  - source/vm/optgui
  + source/vm/fmstat/Makefile
    * removed dirs optcon and optgui added dir fmstat
   * removed defines HB_FM_STATISTICS_OFF, HB_OPT_GUI, HB_OPT_CON
   * now HB_FM_STATISTICS is NOT defined by default
   * link libfmstat<mt> before libvm to get memory statistics
   * please update non gnu makefiles

2005-11-14 09:40 UTC-0400 Marcelo Anelli <marceloanelli@users.sourceforge.net>
  * contrib/libnf/samples/libnf.prg
    + Demo and test program added for FT_BYT2BIT(), FT_BYT2HEX(), FT_BLINK,
      FT_BLINKW32 / FT_BLINW32CANCEL
  * contrib/libnf/popadder.prg
    + Text of messages and help in English (original), spanish and italian
      The translations are coded inline due to big text in the original
      code.
    ! minor fixes to code.

2005-11-14 01:14 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * xharbour/include/hbdate.h
    + added hb_dateJulianDOW() - retrieve day of week from Julian's date

  * xharbour/source/compiler/harbour.c
    ! fix possible buffer overflow in hb_conOutErr()

  * xharbour/source/rdd/dbffpt/dbffpt1.c
    ! fix stupid typo in my last commit

  * xharbour/source/rtl/dates.c
    % optimized hb_dateEncode()
    + added HB_STR_DATE_BASE for conversion to string - Clipper
      compatibility though we are not 100% Clipper compatible STOD()
      because we will have to reduce functionality (supported date
      range) to reach it.
    * some minor fixes for Clipper compatibility

  * xharbour/source/rtl/dateshb.c
    * use faster and Clipper compatible hb_dateJulianDOW() instead of
      hb_dateDOW()

  * xharbour/source/vm/garbage.c
    - removed unnecessary memset() on newly created items

2005-11-14 03:00 UTC+0300 Phil Krylov <phil a t newstar.rinet.ru>
  * doc/en/array.txt
    + Added HB_ATOKENS() description.
  * tests/testinit.prg
    + Added a test for EXIT PROCEDUREs.

2005-11-13 13:58 UTC-0800 Ron Pinkas <Ron in xHarbour.com>
  * source/vm/hvm.c
  * tests/assocar2.prg
    + Added FOR EACH support to AA compatible hashes.

2005-11-13 16:58 UTC-0400 Marcelo Anelli <marceloanelli@users.sourceforge.net>
  * contrib/libnf/samples/libnf.prg
    + Demo and test program added for FT_ASUM(), FT_RESTARR(), FT_SAVEARR() and
      FT_ADDER
    + Same program corrected to be compiled in for Clipper 5.x for check.
      Link it with Nanfor.lib
  * contrib/libnf/samples/TODO
    + Added.
  * source/lang/msges.c
  * source/lang/msgeswin.c
    + Translation of last four expressions.

2005-11-13 03:25 UTC-0300 Walter Negro <anegro-AT-overnet.com.ar>
  * source/vm/hvm.c
    ! Stupid error in copy & paste.

2005-11-12 19:45 UTC-0300 Walter Negro <anegro-AT-overnet.com.ar>
  * include/hashapi.h
  * include/hbhash.h
  * include/hbvmpub.h
  * source/rtl/tobject.prg
  * source/vm/hash.c
  * source/vm/hvm.c
  * tests/assocar2.prg
    + Add Associative Array compatiblity in Hash.

2005-11-12 13:42 UTC-0800 Ron Pinkas <Ron in xHarbour.com>
  * include/hbdefs.h
    * Moved #include "hbtrace.h" to bottom to follw definitions required by hbtrace.h

    /* I beg to have a #include manager ASAP */

2005-11-12 12:26 UTC-0800 Ron Pinkas <Ron in xHarbour.com>
  * include/hbtrace.h
  * source/rtl/trace.c
    * Exported TraceLog()

  * source/rtl/win32ole.prg
    * Minor rename

2005-11-12 19:46 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * xharbour/include/hbcomp.h
  * xharbour/source/compiler/calconst.c
  * xharbour/source/compiler/gencobj.c
  * xharbour/source/compiler/harbour.c
  * xharbour/source/compiler/hbgenerr.c
  * xharbour/source/compiler/hbpcode.c
    * emit warning and error messages to stderr instead of stdout
      Now it's enabled only for *nix platforms. I left the decision
      about non unix platforms to developers which use them.
      Personally I will want to add it for MinGW and DJGPP when xharbour
      compiler is run from shell environment.

  * xharbour/source/rtl/win32ole.prg
  * xharbour/source/vm/extend.c
    * casting

2005-11-12 12:17 UTC-0400 Marcelo Anelli <marceloanelli@users.sourceforge.net>
  * contrib/libnf/calendar.prg
    + fixed month next, month previous, year next and year previous
      navigation to real date valuea instead of -30, +30, -365 and
      +365 days fixed jump to obtain correct navigation skips.
  * contrib/libnf/blink.prg
    + Added two functions for simulate blink on OS where is not present:
      FT_BLINKW32( <Message>, <Row>, <Col>, <Blink Time> )
        Display a blinking message on Row, Col at blinkt time. Only one
        blink message for now.
      FT_BLINKW32CANCEL()
        Cancel previous set blinking message

  * contrib/libnf/samples/libnf.prg
    + Demo and test program added for FT_ADESSORT(), FT_AEMAXLEN(),
      FT_AEMINLEN(), FT_AMEDIAN(), FT_ANOMATCHES() and FT_AREDIT()

2005-11-12 01:45 UTC-0800 Ron Pinkas <Ron in xHarbour.com>
  * source/rtl/win32ole.prg
    + Added support for returning Arrays of any supported type

2005-11-12 04:09 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * xharbour/contrib/rdd_ads/ads1.c
    ! clear order conditions after indexing
  * xharbour/source/rdd/dbf1.c
    * make BOF/EOF flag updating exactly the same as in Clipper
      in dbSkip(0) when we are at phantom record.

2005-11-11 19:47 UTC-0400 Marcelo Anelli <marceloanelli@users.sourceforge.net>
  * contrib/libnf/blink.prg
    + Added preserving previous set of SETBLINK.

  * contrib/libnf/samples/libnf.prg
    + Demo and test program added for FT_ADDITION, FT_AAVG, FT_CALENDAR
      and FT_DISPFILE.

2005-11-11 13:35 UTC-0800 Ron Pinkas <Ron in xHarbour.com>
  * contrib/libnf/dispc.c
    * Missing type cast

2005-11-11 17:08 UTC-0400 Marcelo Anelli <marceloanelli@users.sourceforge.net>
  * contrib/libnf/dispc.c
    * Corrected function keyin for processing input keys.

2005-11-11 01:52 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * xharbour/source/rdd/dbf1.c
    ! fixed updating FVP DBF header when structural index is created

  * xharbour/source/rdd/dbffpt/dbffpt1.c
    ! fixed "V" fields support in FPT files

  * xharbour/contrib/rdd_ads/ads1.c
    + added RT error if index open fails

2005-11-10 03:46 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * xharbour/contrib/rdd_ads/ads1.c
    ! check results of AdsGetIndexExpr() and AdsGetIndexCondition()
      in DBORDERINFO() to avoid returning of random data when they fail

  * xharbour/source/rdd/dbfntx/dbfntx1.c
    * force to set 0 byte at the end of index key data to avoid any bad
      interactions with future VM API modifications
  * xharbour/source/vm/hvm.c
    ! fixed bug I introduced in recent commit in bit manipulations
      operators
    ! fixed typo in HB_SAVEBLOCK()

2005-11-09 12:11 UTC-0800 Ron Pinkas <Ron in xHarbour.com>
  * utils/xbscript/xbs_harb.ch
    * Restored ::SetStaticProcedures()

2005-11-09 07:40 UTC-0800 Ron Pinkas <Ron in xHarbour.com>
  * source/vm/itemapi.c
    * Minor correction to hb_itemUnShare()

2005-11-08 22:43 UTC-0800 Ron Pinkas <Ron in xHarbour.com>
  * include/hbapi.h
  * source/vm/fastitem.c
    * Modified asString.allocated to be 0 based to overcome logical ambiguity
      in hb_itemPutCRaw() and hb_retclenAdoptRaw()

  * source/vm/itemapi.c
    ! Fixed hb_itemUnShare() to enforce length of greater than 1
      /* Clipper FREad() compatability */

2005-11-08 20:39 UTC-0800 Ron Pinkas <Ron in xHarbour.com>
  * include/hbapi.h
    * Corrected bad typo pointed by Przemek
  * source/vm/fastitem.c
    * Minor formatting

2005-11-08 19:33 UTC-0800 Ron Pinkas <Ron in xHarbour.com>
  * source/vm/hvm.c
    + Added missing HB_P_PLUS support in hb_vmarrayPop() for overloaded ARRAYINDEX

  * source/rtl/win32ole.prg
    % Optimized OleValue support by adding explicit Methods ::OleValue() and ::_OleValue( xSetValue )
    + Added overloading of FOR EACH to support enumeration of OLE Collections.

  * tests/testole.prg
    * Comment typo corrected

2005-11-09 02:06 UTC+0100 Francesco Saverio Giudice <info@fsgiudice.com>
  + xharbour/tests/tstcstru1.prg
    + Like tstcstru.prg but changed to show use of
      :Pointer(), :GetPointer() and :SayMembers() methods

2005-11-09 01:27 UTC+0100 Francesco Saverio Giudice <info@fsgiudice.com>
  * xharbour/source/rtl/cstruct.prg
    * C Array class
    + Added aCMembers data
    + Added GetPointer() method returning internalbuffer pointer

    /* Missed in last change, now tests/tstcstru.prg works again */

2005-11-08 13:22 UTC-0800 Ron Pinkas <Ron in xHarbour.com>
  * include/classes.h
  * include/hboo.ch
  * source/vm/classes.c
  * source/vm/hvm.c
    + Added support for FOR EACH operator overloading

  + tests/enumerate.prg
    + New sample of FOR EACH overloading

2005-11-08 09:58 UTC-0800 Ron Pinkas <Ron in xHarbour.com>
  * source/vm/hvm.c
    * Enhanced HB_SaveBlock() & HB_RestoreBlock() to support macro compiled blocks.

2005-11-08 09:31 UTC-0800 Ron Pinkas <Ron in xHarbour.com>
  * source/compiler/harbour.sly
    + Added logic to NOT pass BYREF variables which are declared as FIELD into DO ... WITH ...
      /* Clipper compatability */

2005-11-08 09:15 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * utils/hbmake/hbmake.prg
    - Removed __Run( " strip " + (s_cAppName) ).

2005-11-07 19:44 UTC-0800 Ron Pinkas <Ron in xHarbour.com>
  * source/vm/memvars.c
    - Removed no longer needed comment.

2005-11-08 03:02 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * xharbour/source/rdd/dbcmd.c
     * some minor modifications

  * xharbour/source/rdd/dbfntx/dbfntx1.c
     + added much stronger balancing on index updated controlled by
       HB_NTX_STRONG_BALANCE macro - enabled by default.
       It will cause that indexes created online (not by INDEX ON) are
       from 20% to 50% shorter. It's done with some small cost (IMHO
       acceptable) on updated but later give noticeable speed improvement
       because smaller index has to be scanned in pending operations.
       To improvement if linear to index size.

  * xharbour/source/vm/hvm.c
    % modified main VM loop to reduce one comparison repeated in each loop
      it increase PCODE evaluation speed about 2-3% in speedtst.exe
      Ron, please look at note I left in HB_P_ENDBLOCK action and if you
      think it should be updated to work in the same way as macro end or
      HB_P_ENDPROC and begin to respect hb_vm_pFinally update it.

  * xharbour/source/vm/memvars.c
    ! fixed GPF in internal error

2005-11-07 15:42 UTC-0800 Ron Pinkas <Ron in xHarbour.com>
  * source/vm/fastitem.c
    * Minor optimization in hb_itemPutC[L]()

2005-11-07 12:28 UTC-0800 Ron Pinkas <Ron in xHarbour.com>
  * source/vm/fastitem.c
    * Added left class operations optimization in hb_itemPutC[L]()
      /* Does not yet apply to HB_P_LEFT */

2005-11-07 02:57 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * xharbour/source/vm/itemapi.c
    - removed repeated hb_itemClone() function

2005-11-07 02:27 UTC+0100 Francesco Saverio Giudice <info@fsgiudice.com>
  * xharbour/source/rtl/cstruct.prg
    * C Structure class
    + Added aCMembers data
    * Changed SayMembers method, now it accepts 2 new parameters
      SayMembers( cPad, lShowMembers, lReturnString )
    + Added GetPointer() method returning internalbuffer pointer

    /* I hope to have not altered anything */

2005-11-07 01:54 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * xharbour/include/hbapiitm.h
  * xharbour/source/vm/itemapi.c
    + added hb_itemClone() function

  * xharbour/source/rdd/dbf1.c
    * casting for C++ compilation
    * separate record decoding from record reading for easier integration
      with upper level RDDs

  * xharbour/source/rdd/dbfcdx/dbfcdx1.c
    * call record decoding method in buffered indexing

  * xharbour/source/rdd/dbfntx/dbfntx1.c
    * call record decoding method in buffered indexing.
    ! do not report RT error for unique indexes when previous keys is
      not found - such situation may happen due to irregular unique index
      updating.

2005-11-06 21:50 UTC-0300 Eduardo Fernandes <modalsist@yahoo.com.br>
  * utils/hbmake/hbmake.prg
    + added __Run( " strip " + (s_cAppName) ) to compress application under
      Linux. Contributed by Itamar M. Lins Jr.

2005-11-06 14:13 UTC-0600 Vicente Guerra <vicente@guerra.com.mx>
  * source/rtl/dircmd.prg
    * Added missing header version types to DIR command (FPT, etc.).

2005-11-06 14:10 UTC-0300 Luiz Rafael Culik<luiz at xharbour.com.br>
  * utils/hbmake/hbmake.prg
    ! minor fixes
  * ChangeLog
    ! Renamed to ChangeLog.024 and start an new one
