/*
 * $Id: ChangeLog,v 1.2809 2004/04/20 12:47:48 likewolf Exp $
 */

/* Use this format for the entry headers:
   YYYY-MM-DD HH:MM UTC[-|+]hhmm Your Full Name <your_email@address>
   For example:
   2002-12-01 23:12 UTC+0100 Foo Bar <foo.bar@foobar.org>
*/

2004-04-20 23:30 UTC+0530 Pritpal Bedi <pritpal@vouchcac.com>
  * xharbour/source/rtl/teditor.prg
    * Cursor movement is now much more compatible to Clipper's. The fixes are for:
      PageUp, PageDown.

    * Numerous small fixes especially for memoedit() with WordWrap ON. Now it follows
      Clipper behavior more alike.

    * Introduced mouse support. Currently Left Button Up, Mouse Scroll Forward and 
      Mouse Scroll Backward is supported. Clicked position of mouse is made current.
      Forward and Backward movement of mouse scroll causes memoedit() to go up or down
      by one row.

  * xharbour/source/rtl/memoline.c
    * Fixed for memoline retrieved properly where WordWrap is on. If a line was wordwrapped
      at a point the next character had been space, it was returning next line with preceding
      space as:
      "A Lazy Fox Jumped over the bush"
                       .                 Point where line was wrapped.
      Clipper  -> "over the bush"
      xHarbour -> " over the bush"

2004-04-20 16:47 UTC+0300 Phil Krylov <phil@newstar.rinet.ru>
  * source/debug/debugger.prg
    ! Fixed a typo that caused wrong source output. Thanks to Teo Fonrouge.

2004-04-20 13:45 UTC+0300 Phil Krylov <phil@newstar.rinet.ru>
  * source/rtl/inkey.c
    ! Removed #include of nonexistent hbinkey.ch.

2004-04-20 13:30 UTC+0300 Phil Krylov <phil@newstar.rinet.ru>
  * source/rtl/teditor.prg
    ! Fixed individual lines coloring.

2004-04-20 10:20 UTC+0200 Lorenzo Fiorini <lorenzo_fiorini/at/tin.it>
  * source/rtl/gtwin/gtwin.c
    fixed the read of F1 
  - include/hbinkey.ch deleted
  * include/Makefile hbinkey.ch deleted please check others makefiles

2004-04-20 12:20 UTC+0700 Budyanto Dj. <budyanto@centrin.net.id>
  * source/rtl/tbcolumn.prg
  * source/rtl/tbrowse.prg
    ! Fixed headsep/colsep display, including handling of different tbcolumn's
      headsep/colsep.
    ! Fixed wrong display when ::colPos assigned beyond ::leftVisible or
      ::rightVisible.

    /*
      Notes:
      ::right() and ::left() should skip empty columns (Clipper compatible).
      I guess it is not difficult to fix this, but I don't personally see it
      as a problem. Does anybody?
    */

2004-04-19 13:50 UTC+0300 Phil Krylov <phil@newstar.rinet.ru>
  * source/debug/debugger.prg
    ! Fixed numerous problems (breakpoints, STATIC monitoring etc.) with .prg
      modules located in different directories.

2004-04-18 23:05 UTC-0300 Luiz Rafael Culik<culikr / at /brturbo.com >
  * source/rtl/memoedit.prg
  Reverted back to previus default
      From
         DEFAULT nLineLength     TO nRight - nLeft + 1
      INTO
         DEFAULT nLineLength     TO nRight - nLeft
      By GianCarlo Niccolain request

2004-04-19 03:50 UTC+0200 Giancarlo Niccolai <antispam [at] niccolai/dot/ ws>
  * source/rtl/teditor.prg
    ! Correct sanitization on New() parameters; prevents function looping into memoedit after
      changing the text to crash.
    % More compact and readable (by far) code.

2004-04-18 23:35 UTC+0530 Pritpal Bedi <pritpal@vouchcac.com>
  * source/rtl/teditor.prg
    ! More fixes to TEditor.

2004-04-18 21:20 UTC+0300 Phil Krylov <phil@newstar.rinet.ru>
  * source/debug/debugger.prg
    ! Fixed .T./.F. in command window and any dependencies on applications
      SET EXACT setting (mainly borrowed from Ryszard Glab's patch to
      Harbour).

2004-04-18 12:17 UTC+0200 Giancarlo Niccolai <antispam [at] niccolai/dot/ ws>
  * source/rtl/teditor.prg
    ! More fixes to TEditor.


2004-04-18 01:26 UTC+0200 Giancarlo Niccolai <antispam [at] niccolai/dot/ ws>
  * source/rtl/at.c
    ! AT xharbour extra parameters were too much sanitized; Now AT is returning 0
      if start parameter is bigger than string size.

  * source/rtl/memoedit.prg
    ! Changed
         DEFAULT nLineLength     TO nRight - nLeft
      INTO
         DEFAULT nLineLength     TO nRight - nLeft + 1

      The previous setting (seemingly just a typo) was always neglecting the
      ability to use the very last character in the window when wordwrapping was on.

  * source/rtl/teditor.prg
    ! Many fix and some addition.
      Wordwrapping works quite OK for normal characters, space, backspace and delete.
      Tab is giving some troubles, but it has been explicitly designed so.
      /* I would like to change it, but I need to listen ML opinions. */
    + Added GotoCol() and GotoPos() that are doing a similar job as GotoRow(): they go
      to a Logical location that is then translated into screen coordinates (and scrolled)
      as needed.
    ! GotoRow(), K_enter(), K_Bs(), K_del(), K_Ascii() have been highly optimized and
      simplified. They are now relying on the fixed SplitLine() that works on a fixed
      GetParagraph(). The short story: they all rely on SplitLine to fix word wrapping
      and cursor position when needed.
    - K_Space(): with the new SplitLine() that works for that, K_Space is absorbed into
      K_Ascii().

    /* NOTE: For optimization reasons, I now use AT() with the third extra parameter in many
       points. Compiling this program with xharbour in strict compatibility mode will make
       memoedit to silently do wrong in many points. If someone is interested, it should provide
       a different version of AT with the third parameter when strict compatibility is on */



2004-04-18 05:40 UTC+0700 Andi Jahja <xharbour@cbn.net.id>
  * source/rtl/philes.c
    ! convert errorno 32 to 5 for BCC, MinGW and WatCom

  * source/vm/itemapi.c
    ! Added __POCC__ support for HB_FINITE_DBL()

2004-04-15 12:55 UTC-0800 Brian Hays <bhays@abacuslaw.com>

  * contrib/rdd_ads/ads1.c
    + fixed adsOrderListFocus and adsOrderInfo so ordsetfocus and ordkey
      return "" when no index is active

2004-04-17 17:10 UTC+0700 Andi Jahja <xharbour@cbn.net.id>
  * source/compiler/hbusage.c
    ! revertion of UNDEF switch has been ommited in my last commit.

2004-04-17 16:20 UTC+0700 Andi Jahja <xharbour@cbn.net.id>
  * source/common/hbver.c
    ! show full MSVC version
    ! show full MinGW32 version
    ! show correct version of OpenWatcom

2004-04-16 13:40 UTC-0300 Luiz Rafael Culik<culikr / at /brturbo.com >
  * source/rtl/teditor.prg
    ! removed tracelog() call

2004-04-15 21:40 UTC-0800 Ron Pinkas <ron@ronpinkas.com>
  * include/hbapierr.h
  * source/vm/errorapi.c
    + Added hb_errRelease() which I removed mistakenly.
  * source/vm/itemapi.c
    Added __XCC__ support for HB_FINITE_DBL()

2004-04-15 13:55 UTC-0300 Luiz Rafael Culik<culikr / at /brturbo.com >
  * include/Makefile
    + Added local.h to list
  * utils//hbmake/hbmake.prg
    ! minor fix

2004-04-15 20:05 UTC+0300 Phil Krylov <phil@newstar.rinet.ru>
  * doc/en/hb_macro.txt
  * include/hbapi.h
  * include/hbmacro.h
  * source/vm/macro.c
    - Reverted my previous Type() Clipper-compatibility fix, which was
      incorrect.
    ! Fixed Type() to be Clipper-compatible on undeclared memvars.
      Modeled after Ryszard Glab's Harbour fix, but with small changes to
      make it work in xHarbour.
  * tests/macro.prg
    ! Fixed to reflect real Clipper behaviour, some checks added.
  * source/rtl/errorsys.prg
    * Fixed a typo.

2004-04-15 01:15 UTC-0800 Brian Hays <bhays@abacuslaw.com>

  * contrib/rdd_ads/adsfunc.c
    + added AdsGetConnectionType( [hConnect] ) and AdsGetTableConType() to
      retrieve the type of a given connection handle or the type
      of connection used in the current workarea.
      Thanks to Randy Portnoff for the original code.

  * contrib/rdd_ads/doc/en/adsfuncs.txt
    * Docs for above funcs, plus minor formatting and grammar fixes.

2004-04-15 05:30 UTC+0700 Andi Jahja <xharbour@cbn.net.id>
  * source/pp/ppcore.c
  * source/compiler/cmdcheck.c
  * include/hbcomp.h
    ! reverted rems of hb_pp_STD_CH and /u
      (was thinking only UNDEF)

2004-04-15 03:50 UTC+0700 Andi Jahja <xharbour@cbn.net.id>
  * source/pp/ppcore.c
  * source/compiler/cmdcheck.c
  * source/compiler/hbusage.c
  * include/hbcomp.h
    - remmed unused hb_pp_STD_CH and UNDEF switch from command line

  * source/vm/itemapi.c
    ! add define for _MSC_VER on _finite() declaration.
      (BTW: What is __MSC__ ?)

  * contrib/rdd_ads/ace620.prg (for OW32 only)
    ! updated to version 7.0.0.5 (current aceapi) with additional
      new 27 functions compared to version 6.20

  * source/rtl/diskspac.c
  * source/rtl/disksphb.c
  * source/rtl/filesys.c
  * source/rtl/filestat.c
  * source/rtl/tprinter.c
  * source/rtl/hbserv.c
  * source/rtl/win32ole.prg
  * source/rtl/gtwvt/gtwvt.c
  * source/macro/macro.slx
  * contrib/rdd_ads/ace.h
  * contrib/tip/tiputils.c
  * contrib/winprn/tprint.prg
    ! modification to enable compilation under LCC
      <http://www.cs.virginia.edu/~lcc-win32/>

  * source/common/hbver.c
    ! include LCC compiler definition

2004-04-15 03:20 UTC+0700 Andi Jahja <xharbour@cbn.net.id>
  * include/hbapi.h
  + include/local.h (empty)
    * this is to allow builders to use their local defines

2004-04-14 02:48 UTC-0400 Sylvain Robert (s.robert/at/videotron.ca)
  * source/rtl/filesys.c
    - remove __USE_INLINE__ define and static definition for
      LongToHandle() and HandleToLong()
    + add && ! Defined(_BASETSD_H_) for the inline definition
    Now I can compile filesys.c with HB_WIN32_IO and MSVC

2004-04-14 16:25 UTC+0200 Lorenzo Fiorini <lorenzo_fiorini/at/tin.it>
  * source/rtl/gtwin/gtwin.c
    * modified readKey code to use only inkey.ch
    * no more support of INKEY_RAW and INKEY_EXTENDED
  * source/rtl/inkey.c
  * source/vm/hvm.c
    * hbinkey.ch no more used
  * source/rtl/gtwvt/gtwvt.c
    * added an hack to manage K_CTRL_RETURN
    * fixed support of keystrokes like Ctrl+Shift+F1 as suggested by Budyanto Dj.
  * source/rtl/filesys.c
    * fixed shared mode when -DHB_WIN32_IO as suggested by Przemyslaw.

2004-04-14 12:20 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * xharbour/source/rdd/dbcmd.c
    * fixed bug in DBCREATE(....,.t.)

  * xharbour/include/hbdefs.h
    + added HB_COUNTER and HB_PTRDIFF types - first for reference
      counters and second for any pointer differences and pointer to
      integer conversions - this modification is synced with Harbour

  * xharbour/include/hbvmpub.h
  * xharbour/source/rdd/dbcmd.c
  * xharbour/source/rtl/trim.c
  * xharbour/source/vm/arrays.c
  * xharbour/source/vm/debug.c
  * xharbour/source/vm/fastitem.c
  * xharbour/source/vm/fm.c
  * xharbour/source/vm/hvm.c
  * xharbour/source/vm/memvars.c
    * use HB_COUNTER type

2004-04-13 14:19 UTC-0800 Ron Pinkas <ron@ronpinkas.com>
  * include/hbvm.h
  * source/vm/hvm.c
    + Added HB_EXPORT void hb_vmPushBaseArray( PHB_BASEARRAY pBaseArray );

2004-04-12 14:15 UTC-0800 Ron Pinkas <ron@ronpinkas.com>
  * include/cstruct.ch
  * source/rtl/cstruct.prg
    * Fixes and enhancements to support more C syntax, like:

         MyCStruct := (struct SOMESTRUCT)
         MyCStruct := (struct SOMESTRUCT) SomeValue
         MyCStruct := (struct SOMESTRUCT*) SomePointer

2004-04-12 00:50 UTC-0300 Luiz Rafael Culik<culikr / at /brturbo.com >
  * contrib/hbzlib/zip.c
    + GetFileAttr/SetFileAttr() compatible api for *nix(otherwise hbzip dont build on linux

2004-04-12 01:55 UTC+0530 Pritpal Bedi <pritpal@vouchcac.com>
  * xharbour/source/rtl/scroll.c
    + ScrollFixed()
      Introduced this new function for internal use of xHarbour classes which
      supply all the parameters already in range. This function does not
      verify the supplied parameters. To speedup TBrowse(), this function is used
      instead of Scroll().

  * xharbour/source/rtl/tbrowse.prg
    * ::InsColumn() was not Clipper compatible where <nPos> > ::nColumns. Fixed.
    * More optimizations to speed up ::ForceStable(). Now it must be 10-15%
      faster than earlier. The methods touched are ::drawRows() and ::drawARow().

2004-04-10 16:59 UTC+0200 Mindaugas Kavaliauskas <dbtopas/at/dbtopas.lt>
  * contrib/rdd_ads/ads1.c
    * fixed ORDKEYVAL() for date type key values

2004-04-09 12:04 UTC-0800 Ron Pinkas <ron@ronpinkas.com>
  * source/vm/classes.c
    ! Fixed initialization of pRealClass in hb_clsValidScope() - thanks to Przemek
  * source/vm/runner.c
    * Removed unneeded static qualifier.

2004-04-09 04:00 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * xharbour/source/rdd/dbcmd.c
    * fixed COPY TO/APPEND FROM to not make one unnecessary loop
      if WHILE block fails what cause unnecessary execution of
      FOR block and skipping

2004-04-09 03:18 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * xharbour/include/hbdefs.h
    * disabled '#define HB_OS_WIN_32_USED' for HB_WIN32_IO to avoid
      problems with windows.h

  * xharbour/include/hbvmpub.h
    * reverted binary compatibility with old array structures for
      FWH users. I hope this problem will be resolved in the future
      with FWH author. Now by default Windows build uses:
      #define HB_FWH_COMPATIBLE which cause that old array structure
      is used. If someone build xHarbour with -DHB_LONG_HOLDERS then
      the LONG version of holders is used and HB_FWH_COMPATIBLE is not
      automatically set in hbdefs.h but if he set both -DHB_FWH_COMPATIBLE
      and -DHB_LONG_HOLDERS then the hacked version which cleans the bug
      and is binary compatible with old array structure is used.

  * xharbour/source/rtl/fstemp.c
    * #define HB_OS_WIN_32_USED added

2004-04-09 05:00 UTC+0700 Andi Jahja <xharbour@cbn.net.id>
  * source/rtl/fserror.c
    ! reverted back error code hack for BCC and Watcom

2004-04-09 04:30 UTC+0700 Andi Jahja <xharbour@cbn.net.id>
  * contrib/rdd_ads/ace.h
    ! replace back dllimport to dllexport

2004-04-08 15:36 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * xharbour/source/rtl/set.c
    * use hb_fsCreateTemp() for temporary files and Windows Printer.
      To Windows users: please test it.

  * xharbour/source/rtl/fstemp.c
    * hb_fsTempName() now can use Win32 API for HB_WIN32_IO
      Thanks to Sylvian - I left intentionaly the logic with create
      (not open) to force truncating and avoid possible race condition
      problem, if it will make any troubles please inform me.

  * xharbour/include/hbdefs.h
  * xharbour/include/hbvmpub.h
  * xharbour/source/rtl/hbxml.c
  * xharbour/source/rtl/trim.c
  * xharbour/source/vm/arrays.c
  * xharbour/source/vm/classes.c
  * xharbour/source/vm/codebloc.c
  * xharbour/source/vm/debug.c
  * xharbour/source/vm/fastitem.c
  * xharbour/source/vm/fm.c
  * xharbour/source/vm/hvm.c
  * xharbour/source/vm/itemapi.c
  * xharbour/source/vm/memvars.c
    * puiHolders cahnge to pulHolders and uiHolders to ulHolders,
      both are ULONG now. This resolves GPF problem when array
      was shared more then 2^16 times, f.e.:
        a:=array(100000)
   b:={"default"}
   afill(a,b)

  * xharbour/source/vm/hvm.c
    ! fixed the bug I reported a week ago in hb_vmArrayPush()/hb_vmArrayPop()
      when pIndex was string with differ length then 1 and pArray was not
      an object which inherits from TASSOCIATIVEARRAY
      I didn't want to do that myself but if no one else has wanted to clean
      it so far, I had to. Please test.

2004-04-08 17:30 UTC+0700 Andi Jahja <xharbour@cbn.net.id>
  * contrib/rdd_ads/ace.h
    ! replace dllexport with dllimport
      (I just wonder why dllexport definition has been working for ages.
       According to common documentation, dllexport should be used when
       creating a DLL whilst dllimport when USING a DLL. In case of RDDADS,
       we are in the later position, using ace32.dll, so, IMO, dllimport
       should be used instead of dllexport)

  + contrib/rdd_ads/ace620.prg
    ! utility to create required RDDADS import library, ace32.lib, for
      Open-Watcom as it is not readily available elsewhere.
      (Open-Watcom users can now enjoy the powerful xHarbour RDDADS)

  * hrbdll.wc
    - remove double entries

  * source/rtl/fserror.c
    ! function hb_WinToDosError():
      translate ERROR_SHARING_VIOLATION to 5 for Borland and Watcom

    /*
    This brings down hbtest.exe's errors to 8 and 9 for BCC and Watcom
    respectively (same level as MSVC so far as FError() is concerned).
    Note: Under Windoze OS, it is highly recommended that HB_WIN32_IO be
    enabled by default, because undefining it will result incorrect return
    values of FError() from Clipper compatibility POV.
    */

2004-04-07 17:26 UTC-0800 Ron Pinkas <ron@ronpinkas.com>
  * source/vm/classes.c
    * Enhanced __CLSMODMSG() to also accept Class Handle as 1st param.

2004-04-07 19:50 UTC+0700 Andi Jahja <xharbour@cbn.net.id>
  * source/common/hbver.c
    + add __POCC__ and __XCC__ in compiler section.

2004-04-07 15:15 UTC+0530 Pritpal Bedi <pritpal@vouchcac.com>
  * xharbour/source/rtl/tbrowse.prg
    * Incorporated changes in ::RedrawHeaders() suggested by Ath, thanks.
      I could not see any change to all of my browsers as I never use oCol:HeadSep
      instance variable. Budyanto, can you check if it is correct!

2004-04-07 10:45 UTC+0700 Andi Jahja <xharbour@cbn.net.id>
  * dll_w32.bat
  * hrbdll.wc
    ! minor corrections.

2004-04-07 10:15 UTC+0700 Andi Jahja <xharbour@cbn.net.id>
  * source/vm/mainwin.c
  * source/vm/hvm.c
    ! force link hb_forceLinkMain() only when __EXPORT__ is not defined.

  * include/hbdefs.h
    ! allow Watcom to produce Library/DLL with undecorated symbol names

  * source/rtl/pplib.c
    ! remove unwanted HB_EXPORT attribute from __PREPROCESS()

  + dll_w32.bat
  + hrbdll.wc
    ! makefiles for Watcom's Harbour.DLL

2004-04-06 15:52 UTC-0800 Ron Pinkas <ron@ronpinkas.com>
  * source/vm/proc.c
    ! Fixed bad typo found by Przemek.

2004-04-06 15:31 UTC-0800 Ron Pinkas <ron@ronpinkas.com>
  * source/vm/codebloc.c
    - Removed extranous if in hb_codeblockDelete()

  * source/vm/hvm.c
    * Corrected few == HB_IT_STRING to & HB_IT_STRING

  * source/vm/memvars.c
    ! Fixed memory leak

2004-04-07 04:20 UTC+0700 Andi Jahja <xharbour@cbn.net.id>
  + make_w32.bat
  + makefile.wc
    ! makefiles for Open-Watcom (Windows 32bit only)

2004-04-06 16:30 UTC-0300 Luiz Rafael Culik<culikr / at /brturbo.com >
  * utils/hbmake/hbmake.prg
    utils/hbmake/pickarry.prg
    ! minor fixes to problem reported by users(especialy when editing makefiles
  Question: Can i Add to contrib/hbzlib/zip.c the GetFileAttribute/SetFileAttibute Linux Equivalent
   Api, with out this, hbzip on linux is broken

2004-04-06 17:10 UTC+0700 Andi Jahja <xharbour@cbn.net.id>
  * source/rtl/hbcomprs.c
  * source/rtl/gtwvt/gtwvt.c
    ! kill warning under Open-WatCom 1.2
  * source/rtl/win32ole.prg
    ! force LONGLONG under Open-WatCom 1.2 when __FORCE_LONG_LONG__ is defined.
      This requires a hacked version of oaidl.h I atatched in other message.
  * contrib/rdd_ads/ace.h
    ! minor modification to allow compilation under Open-Watcom 1.2
  * include/hbdefs.h
    + add definition of HB_EXPORT for Open-Watcom 1.2

2004-04-06 04:01 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * xharbour/contrib/libct/files.c
    * enable osToHarbourMask() for OS_UNIX_COMPATIBLE

  * xharbour/source/rtl/bkgtsks.c
    * removed two unnecessary HB_THREAD_STUB

  * xharbour/source/rtl/filestat.c
  * xharbour/source/rtl/fserror.c
  * xharbour/source/rtl/fssize.c
  * xharbour/source/rtl/fstemp.c
  * xharbour/source/rtl/hbffind.c
  * xharbour/source/rtl/hboutdbg.c
    * next file IO and fsError changes

  * xharbour/source/rtl/filesys.c
    ! hb_fsCreateEx() use now WinAPI,
    + added convert_create_flags() for WinAPI,
    * some next fsError changes

I've tested the changes in Linux and DOS (DJGPP, OpenWatcom) - please
test it in Windows.

2004-04-05 19:45 UTC-0300 Luiz Rafael Culik<culikr / at /brturbo.com >
  * source/rtl/direct.c
    ! fixed function directoryrecurse() to work on *nix

2004-04-06 05:35 UTC+0700 Andi Jahja <xharbour@cbn.net.id>
  * source/rtl/filesys.c
    ! typo on trace info convert_create_flags -> convert_create_flags_ex
    ! define convert_create_flags() only when HB_FS_FILE_IO is defined and
      HB_WIN32_IO is not defined.
  * source/rtl/fserror.c
    ! define hb_errnoToDosError() only when HB_WIN32_IO is not defined
  * source/compiler/hbpcode.c
    ! function hb_compStrongType(): mark iSize as unused.
  * source/rtl/gtwvt/gtwvt.c
    ! remmed unused variable: iScanCode in line 1983

2004-04-05 22:36 UTC+0200 Francesco Saverio Giudice <info / at / fsgiudice.com>
  * source/rtl/bkgtsks.c
    * fixed typo ( HB_THRAED_OPTIMIZE_STACK -> HB_THREAD_OPTIMIZE_STACK )
      and added HB_THREAD_STUB in HB_BACKGROUNDRUN.
      Thanks to Sylvain Robert

2004-04-05 21:50 UTC+0200 Francesco Saverio Giudice <info / at / fsgiudice.com>
  * source/rtl/bkgtsks.c
    * fixed assignment of first task. Code cleaned.
  * hrbdll.bc
  * hrbdll.vc
    + Added source/rtl/fserror.c

2004-04-06 02:40 UTC+0700 Andi Jahja <xharbour@cbn.net.id>
  * source/rtl/filesys.c
    ! unbalance parenthesis in line 282
  * source/rtl/fserror.c
    ! guard ENOTDIR, ENFILE, EFAULT, EROFS, ESPIPE with "#if defined()" for
    compilers that have no defines for them.
  * source/rtl/gtwvt/gtwvt.c
    ! minor correction to put external variables initialized in mainwin.c
      into extern "C"

2004-04-05 16:48 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * xharbour/source/rtl/fserror.c
    * ETXTBSY inside #ifdef ETXTBSY

  * xharbour/source/rtl/filesys.c
    * compilation fixes

  * xharbour/source/rtl/hbffind.c
    * use new error codes

2004-04-05 09:10 UTC-0500 Sylvain Robert (s.robert/at/videotron.ca)
  * xharbour/source/rtl/fserror.c
    * Put case ETXTBSY under #if defined( HB_OS_UNIX )

2004-04-05 13:34 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  + xharbour/source/rtl/fserror.c
    + I missed it in my previous commit

2004-04-05 13:32 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * xharbour/source/rtl/filesys.c
    ! BCC compilation fixed

2004-04-05 17:10 UTC+0700 Andi Jahja <xharbour@cbn.net.id>
  * source/compiler/hbpcode.c
    - remmed: unused hb_compPrivateFind()
  * contrib/libct/files.c
    - remmed: unused osToHarbourMask()
  * source/rtl/gtwvt/gtwvt.v
    - remmed: unused hb_wvt_gtValidWindowSize()
  * contrib/libnf/n2color.c
    - remmed: unused _ftI2Color()
    ! fix inconsistent linkage : _ftGetColorStr()
  * contrib/unicode/hbc7.c
    ! fix inconsistent linkage : str2ue7()
  * contrib/unicode/hbcrpt128.c
    - removed unused variable: tmpKey
  * contrib/winprn/tprint.prg
    - remmed unused fucntions:
      DELETEOBJECT(),SELECTOBJECT(),SETTEXTCHARACTEREXTRA()

  * source/pp/pragma.c
  * source/pp/ppcore.c
    % code formatting, mainly change tabs->spaces and put singe-liner into {}

2004-04-05 04:38 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * xharbour/makefile.bc
  * xharbour/makefile.nt
  * xharbour/makefile.vc
  * xharbour/source/rtl/Makefile
    + fserror.c added

  * xharbour/source/rtl/diskspac.c
  * xharbour/source/rtl/disksphb.c
    * use current version hb_parc() instead of hb_parcx()

  * xharbour/include/hbdefs.h
    + hack for 64bit systems and [U]LONG_{MIN,MAX} definition

  * xharbour/include/hbapifs.h
    * new macro HB_WIN32_IO instead of X__WIN32__
      (X__WIN32__ is still working but I'll remove it soon)

  * xharbour/source/rtl/console.c
    * use HB_WIN32_IO instead of X__WIN32__
      Why we use it? Can someone who use Windows explain it?
      Doesn't DostoWinHandle() work?

  * xharbour/source/rtl/filesys.c
    * error codes changed. It's first part of changes and I expect
      that they could introduce temporary instability but it has to
      be done. I want to clean all sources and use WinAPI only and
      always when HB_WIN32_IO if set. In other case use compiler's API.
      Mixing WinAPI with C compiler can cause unexpected results and
      reduce portability - I think that Windows users will want to
      see WindowsCE port in the future. I need help from all developers
      especially Windows ones and other platform/compilers I don't use
      to continue the changes.

  * xharbour/source/rtl/hbffind.c

  * xharbour/source/rtl/bkgtsks.c
    * chose unique TaskID in hb_backgroundAddFunc() when counter reach
      maximum value
    ! removed hb_itemRelese in hb_backgroundDelFunc() - it's necessary if
      HB_BACKGROUNDDEL() should return codeblock.
      It should be documented that on C level caller of hb_backgroundDelFunc()
      should make hb_itemRelease() on returned value if is not NULL

2004-04-05 07:30 UTC+0700 Andi Jahja <xharbour@cbn.net.id>
  * source/rtl/hbxml.c
    ! fix inconsistent function declarations

  * source/compiler/harbour.c
  * source/compiler/hbfunchk.c
  * source/compiler/cmdcheck.c
  * source/compiler/hbgenerr.c
  * source/compiler/hbpcode.c
    ! code formatting, mainly replace tabs -> spaces, put single-liner
      into {} per xHarbour coding convention.

2004-04-05 01:43 UTC+0200 Francesco Saverio Giudice <info / at / fsgiudice.com>
  * source/include/thread.h
    * added to thread stack background section:
      ULONG  ulBackgroundID;
  * source/vm/thread.c
    * added to thread stack background section ulBackgroundID initialization
  * source/rtl/bkgtsks.c
    * added s_ulBackgroundID to ST and MT
    * fixed initialization of ulTaskID

2004-04-05 01:05 UTC+0200 Giancarlo Niccolai <antispam [at] niccolai/dot/ ws>
  * include/hbxml.h
  * source/rtl/hbxml.c
    ! now internal functions are static; unused mxml functions are commented
      out (size of hbxml.o is reduced by 10%).
    ! fixed ret value in mxml_sgs_extract.

2004-04-05 05:15 UTC+0700 Andi Jahja <xharbour@cbn.net.id>
  * source/rtl/filesys.c
    ! Definition of __inline functions for certain version of _MSC_VER (?)
      which does not support __inline functions when X__WIN32__ is defined.
      Those supports __inline may define __USE_INLINE__ when compiling
      filesys.c to gain speed.

  * source/rtl/bkgtsks.c
    ! Minor corrections on line 118: NULL -> 0
      Some compilers treats NULL as void *, so NULL is rejected here.

2004-04-04 21:55 UTC+0200 Francesco Saverio Giudice <info / at / fsgiudice.com>
  * source/include/hbapi.h
    * changed HB_BACKGROUNDTASK struct to add new
      ULONG    ulTaskID;     /* task identifier */
  * source/rtl/bkgtsks.c
    * changed functions to support task identifier intead of task item pointer
    * changed memcpy() to memmove() as Przemek suggests.

2004-04-04 15:45 UTC+0100 Marek Paliwoda <paliwoda@inetia.pl>
  * source/vm/fm.c
    ! fixd typo piuHolders -> puiHolders

2004-04-03 22:00 UTC-0300 Marcelo Lombardo <marcelo@xharbour.com.br>
  * source/rtl/hbhex2n.c
    + Additional conversion casts to MSVC on previous commit

2004-04-04 16:30 UTC+0700 Andi Jahja <xharbour@cbn.net.id>
  * source/vm/hvm.c
  * source/rtl/hbserv.c
  * include/hbserv.h
    ! change hb_seriviceExit() => hb_serviceExit() for more readability :-)

2004-04-04 10:56 UTC+0200 Lorenzo Fiorini <lorenzo_fiorini/at/tin.it>
  * source/vm/mainwin.c
  * source/vm/hvm.c
    * changed froceLinkMain into forceLinkMain and moved outside extern "C"
      to allow build with OpenWatcom
  * source/rtl/hbhex2c.c
    * added OpenWatcom and mingw defines to exclude broken HB_STRTOHEX, HB_HEXTOSTR
      until the fix

2004-04-03 16:00 UTC-0800 Ron Pinkas <ron@ronpinkas.com>
  * source/vm/fastitem.c
    ! Fixed typo in hb_itemCopy() and hb_itemClearMT()
    + Added logic to detect and generate an error on premature string release.

2004-04-04 04:25 UTC+0700 Andi Jahja <xharbour@cbn.net.id>
  * source/compiler/hbusage.c
  * source/compiler/harbour.c
    ! code formatting, mainly putting single-line if,else,while into
      curly brackets as per xHarbour coding convention
    ! remove one TODO item (harbour.exe command line):
       @<file> => compile list of modules in <file>

    /*
    New syntax: harbour.exe @mylist.rsp
       mylist.rsp is a plain text file containing a PRG file in each line.

    Example:
    .---
    |  main.prg
    |  process.prg
    |  doc.prg
    `---
    */

2004-04-03 16:55 UTC-0300 Marcelo Lombardo <marcelo@xharbour.com.br>
  * source/rtl/hbhex2n.c
    + Added function HB_STRTOHEX()
    + Added function HB_HEXTOSTR()

2004-04-03 09:12 UTC-0500 Sylvain Robert <s.robert/at/videotron.ca>
  * source/rtl/filesys.c
    * hb_fsCreate() set the error to _doserrno if possible for MSVC

2004-04-03 13:58 UTC+0200 Giancarlo Niccolai <antispam [at] niccolai/dot/ ws>
  * include/hbapi.h
  * source/vm/garbage.c
  * source/vm/memvars.c
  * source/vm/thread.c
    + added hb_memvarsIsMemvarRefMT to reference local stack memvars in GC
      Mark loop.
    ! fixed GC marking of memvars under MT.

2004-04-02 19:39 UTC-0800 Ron Pinkas <ron@ronpinkas.com>
  * source/vm/fastitem.c

  * source/vm/memvars.c
    + Reinstated condition for Detached Locals in hb_memvarsRelease()

2004-04-02 18:01 UTC-0800 Ron Pinkas <ron@ronpinkas.com>
  * include/hbapi.h
    ! Corrected HB_IS*() to NOT use complex and wrong HB_IS_OF_TYPE()

  * include/hbfast.h
  * source/vm/fastitem.c
    - Removed redundant hb_fastClear()

  * source/compiler/hbpcode.c
    - Deffed OUT content of hb_compStrongType() - outdated!

  * source/rtl/filesys.c
    + Added temporary hack for xCC to provide _doserrno functionality.

  * source/vm/fastitem.c
  * source/vm/arrays.c
  * source/vm/memvars.c
  * source/vm/asort.c
  * source/vm/estack.c
  * source/vm/hvm.c
    + Added OWNERS support for HB_IT_BYREF

  * source/vm/fastitem.c
  * source/vm/arrays.c
  * source/vm/memvars.c
    ! Corrected HB_IS_*() to ->type == * (before reviewing and correcting HB_IS_*())

  * source/vm/codebloc.c
    ! Fixed GPF Trap in hb_codeblockDeleteGarbage()

  * source/vm/garbage.c
    * Converted static s_bReleaseAll to global hb_gc_bReleaseAll

  * source/vm/itemapi.c
    * Corrected compile warning

2004-04-03 02:59 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * xharbour/config/dos/djgpp.cf
  * xharbour/config/w32/mingw32.cf
    * added -W to C compilation flags

2004-04-03 02:37 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * xharbour/source/compiler/harbour.slx
  * xharbour/source/macro/macro.slx
   * warning fixes - removed redundant assignment in CUSTOM_ACTION()
     macro

  * xharbour/source/rtl/gtnul/gtsys.c
   * fixed GT request inside C function and type which
     existed in gtnul.c for a long time - thanks Andi

  * xharbour/source/vm/arrays.c
    * add to debug markers 'U' suffix to avoid warnings

  * source/pp/ppcore.c
  * utils/hbtest/rt_misc.prg
    * preproceses '**' into '^' like Clipper.
      (borrowed from Harbour, by Ryszard Glab)

2004-04-03 05:50 UTC+0700 Andi Jahja <xharbour@cbn.net.id>
  * source/rtl/filesys.c
    ! commented unused variables

  * source/vm/maindllh.c
  * source/vm/maindllp.c
  * source/vm/mainwin.c
  * source/vm/mainstd.c
    ! put codes under extern "C"

2004-04-03 00:31 UTC+0200 Giancarlo Niccolai <antispam [at] niccolai/dot/ ws>
  * source/rtl/hbxml.c
    ! fixed castings
  /* Plz, someone add stricter casting to GCC compilation */

2004-04-03 05:10 UTC+0700 Andi Jahja <xharbour@cbn.net.id>
  * include/hbapigt.h
  * include/hbapicdp.h
    ! changed: "extern HB_FUNC" => "HB_FUNC_EXTERN"

2004-04-02 23:45 UTC+0200 Giancarlo Niccolai <antispam [at] niccolai/dot/ ws>
  * source/rtl/filesys.c
    ! Under windows with X__WIN__ on, hb_fsOpenProcess was failing
      if the file was not found in the path, but was available
      in the relative path.

  * source/rtl/hbxml.c
    % Changed memory deallocation strategy (great speedup).

  * tests/xmltest.prg
    * Fix doc strings.

  + tests/xmliter.prg
    + Added a test for xml iterators; they were in (in fact,
      they are internally used by XmlDocument class for
      findfirst/findnext operations) but documentation is
      missing; I will commit docs ASAP but this test helps
      to understand.

2004-04-03 02:55 UTC+0700 Andi Jahja <xharbour@cbn.net.id>
  * utils/hbtest/rt_file.prg
    + add routine to test FError() upon "Access denied"

2004-04-02 14:00 UTC-0500 Sylvain Robert <s.robert/at/videotron.ca>
  * source/rdd/dbf1.c
    + Add Os error code to the  error object in hb_dbfCreate()
      (clipper compatibility)

2004-04-02 13:30 UTC-0500 Sylvain Robert <s.robert/at/videotron.ca>
  * source/rtl/filesys.c
    * hb_fsCreate() set the error to _doserrno if possible for MSVC

2004-04-02 20:00 UTC+0200 Lorenzo Fiorini <lorenzo_fiorini/at/tin.it>
  * source/vm/fastitem.c
    * corrected a typo that caused memory leaks

2004-04-02 09:00 UTC-0500 Sylvain Robert <s.robert/at/videotron.ca>
  * source/rtl/philes.c
    * hb_fsError() translate from 32 to 5 for MSVC in Ferror()
      (clipper compatibility)

2004-04-02 14:33 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  + xharbour/source/rtl/gtnul/gtsys.c
    + GTSYS added. It forces to link in MULTI GT mode the default
      build GT. Without it GTNUL pass all reference so smart linkers
      drop any other GT libs on if you don't add to your sources
         REQUEST HB_GT_<gtname>
      So far such REQUEST with default build GT was inside gtnul.c
      so final program always has to be linked with the default GT.
      Now user can disable this feature by adding to his sources:
         ANNOUNCE GTSYS
      This is the same mechanism as RDD use in RDDSYS()
      Sorry I missed to add this file in my previous commit()

  * xharbour/tests/bldtest/Makefile
    * fixed typo

2004-04-02 07:16 UTC-0500 Sylvain Robert <s.robert/at/videotron.ca>
  * source/rtl/errorsys.prg
    * if the error object have no argument don't add the text "Arguments:"
      to cMessage

2004-04-02 06:00 UTC-0500 Sylvain Robert <s.robert/at/videotron.ca>
  * source/rtl/hbffind.c
    ! WintoDosError() was returning 0 instead of the old Error value
      if no error code translation was made.

2004-04-02 13:12 UTC+0200 Giancarlo Niccolai <antispam [at] niccolai/dot/ ws>
  * source/rtl/gtxvt/gtxvt.c
    ! Keypad was not working; fixed
    ! XGrabKey() was used to grab K_CTRL and K_ALT keys to work,
      but it prevented some compose/alternative keycodes to be
      correctly parsed by the server. Temporarily removed (in
      search for a better solution).

2004-04-02 05:30 UTC-0500 Sylvain Robert <s.robert/at/videotron.ca>
  * source/rtl/filesys.c
    ! Fixed R/T error when trying to open a DBF in Exclusive mode and
      a sharing violation occur (_doserrno==32) by removing special error
      translation for MSVC in hb_fsSetError()
  * hb_fsOpen() set the error to _doserrno if possible for MSVC

2004-04-01 20:40 UTC-0800 Ron Pinkas <ron@ronpinkas.com>
  * include/hbvmpub.h
    * Removed Member <itemsbase> in favor of NEW Member <pBaseArray>

  * source/vm/arrays.c
  * source/vm/hvm.c
    ! Fixed creation of BYREF items into Arrays to use new pBaseArray Member.

  * source/vm/itemapi.c
    ! Fixed de-referencing of of BYREF items into Arrays to use new pBaseArray Member.
    + Added logic detect and generate R/T Error upon refernce into array being out of bound.

  * source/vm/garbage.c
    + Added logic to Mark the Base Array of a BYREF Item in Sweep Scan.

  * source/vm/fastitem.c
    * Removed some redundant ()

  /* The above fixes critical GPF traps related to BYREF item pointing into an Array Element. */

2004-04-02 03:28 UTC+0200 Francesco Saverio Giudice <info / at / fsgiudice.com>
  * source/rtl/bkgtsks.c
    * warnings fixed

2004-04-02 02:42 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * xharbour/contrib/rdd_ads/adsfunc.c
    * warnings fixed

2004-04-02 00:00 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * xharbour/contrib/rdd_ads/ads1.c
  * xharbour/contrib/rdd_ads/adsfunc.c
  * xharbour/include/simplex.c
  * xharbour/source/rtl/hbserv.c
  * xharbour/source/rtl/hbxml.c
  * xharbour/source/rtl/inkey.c
  * xharbour/source/rtl/readline.c
  * xharbour/source/rtl/regex.c
  * xharbour/source/vm/arrays.c
  * xharbour/source/vm/errorapi.c
  * xharbour/source/vm/thread.c
    * warnings fixed, some of them were real bugs

  * xharbour/source/rtl/gtnul/Makefile
  * xharbour/source/rtl/gtnul/gtnul.c
  + xharbour/source/rtl/gtnul/gtsys.c
    + added GTSYS() which works in similar way as RDDSYS
      when user will want to disable linking with default build GT
      then simply should add into his code: ANNOUNCE GTSYS
      Gian I hope you will find it useful for XWT and linking with
      pure GTNUL only.

2004-04-02 04:35 UTC+0700 Andi Jahja <xharbour@cbn.net.id>
  * source/compiler/hbusage.c
    + add the following gentlemen into credit section:
       * Jose F. Gimenez <jfgimenez@wanadoo.es>
       * Mindaugas Kavaliauskas <dbtopas@dbtopas.lt>
       * Sylvain Robert <s.robert@videotron.ca>
       * Vicente Guerra <vicente@guerra.com.mx>

2004-04-02 03:45 UTC+0700 Andi Jahja <xharbour@cbn.net.id>
  * source/compiler/genc.c
    ! minor formatting and comments

  * include/hbdefs.h
    ! simplified HB_FUNC* macros

  * Rename ChangeLog to ChangeLog.019
